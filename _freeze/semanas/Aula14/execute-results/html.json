{
  "hash": "ab7a0d64ebe4b9dbecfd778454dc0951",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Análise de Associação\"\nauthor: \"Ricardo Accioly\"\ndate: \"2024-03-05\"\nformat:\n html:\n    code-link: true\n---\n\n\nEste exemplo de Análise de Associação foi baseado no curso do DataCamp \"Market Basket Analysis\"\n\nAs bibilotecas usadas são as arules e arulesViz.\n\n## Bibliotecas\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.0     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(arules)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nCarregando pacotes exigidos: Matrix\n\nAttaching package: 'Matrix'\n\nThe following objects are masked from 'package:tidyr':\n\n    expand, pack, unpack\n\n\nAttaching package: 'arules'\n\nThe following object is masked from 'package:dplyr':\n\n    recode\n\nThe following objects are masked from 'package:base':\n\n    abbreviate, write\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(arulesViz)\n```\n:::\n\n\n## Dados\n\nO conjunto de dados Movies consiste de\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readxl)\nfilmes <- read_excel(\"Movie_subset.xlsx\")\nstr(filmes)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\ntibble [19,455 × 5] (S3: tbl_df/tbl/data.frame)\n $ userId : num [1:19455] 1323 1323 1323 1323 1323 ...\n $ movieId: num [1:19455] 1 3 5 10 11 12 15 16 17 19 ...\n $ title  : chr [1:19455] \"Toy Story\" \"Grumpier Old Men\" \"Father of the Bride Part II\" \"GoldenEye\" ...\n $ year   : num [1:19455] 1995 1995 1995 1995 1995 ...\n $ genres : chr [1:19455] \"Adventure|Animation|Children|Comedy|Fantasy\" \"Comedy|Romance\" \"Comedy\" \"Action|Adventure|Thriller\" ...\n```\n\n\n:::\n\n```{.r .cell-code}\nhead(filmes)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 5\n  userId movieId title                        year genres                       \n   <dbl>   <dbl> <chr>                       <dbl> <chr>                        \n1   1323       1 Toy Story                    1995 Adventure|Animation|Children…\n2   1323       3 Grumpier Old Men             1995 Comedy|Romance               \n3   1323       5 Father of the Bride Part II  1995 Comedy                       \n4   1323      10 GoldenEye                    1995 Action|Adventure|Thriller    \n5   1323      11 American President, The      1995 Comedy|Drama|Romance         \n6   1323      12 Dracula: Dead and Loving It  1995 Comedy|Horror                \n```\n\n\n:::\n:::\n\n\n## Explorando os dados\n\n\n::: {.cell}\n\n```{.r .cell-code}\nn_distinct(filmes$title)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4508\n```\n\n\n:::\n\n```{.r .cell-code}\nn_distinct(filmes$userId)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 100\n```\n\n\n:::\n\n```{.r .cell-code}\nfilmes %>%\n  group_by(userId) %>% \n  summarise(n_filmes = n_distinct(movieId)) %>%\n  ggplot(aes(x = n_filmes)) +\n  geom_bar() + \n  ggtitle(\"Distribuição do número de filmes vistos\")\n```\n\n::: {.cell-output-display}\n![](Aula14_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n## Tranformando em Transações\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlista_de_filmes <- split(filmes$title, filmes$userId)\nfilmes_trx = as(lista_de_filmes, \"transactions\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in asMethod(object): removing duplicated items in transactions\n```\n\n\n:::\n\n```{.r .cell-code}\n#Imagem de parte das transações\nimage(filmes_trx[1:100,1:100])\n```\n\n::: {.cell-output-display}\n![](Aula14_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n## Visualizando as transações\n\nA biblioteca arules tem funções para visualização das transações masi frequentes.\n\nElas podem ser vistas na forma de frequencias absolutas ou relativas.\n\n### Frequencia Relativa e Absoluta\n\n\n::: {.cell}\n\n```{.r .cell-code}\npar(mfrow=c(2,1))\nitemFrequencyPlot(filmes_trx,\n                  type = \"relative\",\n                  topN = 10,\n                  horiz = TRUE,\n                  main = 'Frequencia Relativa')\n\nitemFrequencyPlot(filmes_trx,\n                  type = \"absolute\",\n                  topN = 10,\n                  horiz = TRUE,\n                  main = 'Frequencia Absoluta')\n```\n\n::: {.cell-output-display}\n![](Aula14_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n### Mostrando os filmes menos populares\n\nPara mostrar o final da lista de prefrência é necessário utilizarmos funções adicionais.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npar(mar=c(2,30,2,2), mfrow=c(1,1))\nbarplot(sort(table(unlist(LIST(filmes_trx))))[1:10],\n        horiz = TRUE,\n        las = 1,\n        main = 'Menos populares')\n```\n\n::: {.cell-output-display}\n![](Aula14_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n### Extraindo os filmes mais frequentes\n\nA função apriori que aplica o algoritmo de mesmo nome permite que obtenhamos a lista de filmes mais frequentes e também as regras criadas a partir da utilização do algoritmo.\n\nNeste exemplo somente o suporte teve um limite mínimo defindo\n\n\n::: {.cell}\n\n```{.r .cell-code}\nconj_filmes <- apriori(filmes_trx,\n                    parameter = list(support = 0.4,\n                               target = 'frequent'\n                    ))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nApriori\n\nParameter specification:\n confidence minval smax arem  aval originalSupport maxtime support minlen\n         NA    0.1    1 none FALSE            TRUE       5     0.4      1\n maxlen            target  ext\n     10 frequent itemsets TRUE\n\nAlgorithmic control:\n filter tree heap memopt load sort verbose\n    0.1 TRUE TRUE  FALSE TRUE    2    TRUE\n\nAbsolute minimum support count: 40 \n\nset item appearances ...[0 item(s)] done [0.00s].\nset transactions ...[4508 item(s), 100 transaction(s)] done [0.00s].\nsorting and recoding items ... [15 item(s)] done [0.00s].\ncreating transaction tree ... done [0.00s].\nchecking subsets of size 1 2 done [0.00s].\nsorting transactions ... done [0.00s].\nwriting ... [16 set(s)] done [0.00s].\ncreating S4 object  ... done [0.00s].\n```\n\n\n:::\n\n```{.r .cell-code}\ninspect(sort(conj_filmes, by='support', decreasing = T)[1:5])\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    items                       support count\n[1] {Matrix, The}               0.60    60   \n[2] {American Beauty}           0.57    57   \n[3] {Fight Club}                0.54    54   \n[4] {Silence of the Lambs, The} 0.50    50   \n[5] {Shawshank Redemption, The} 0.48    48   \n```\n\n\n:::\n:::\n\n\nNeste exemplo eliminamos os conjuntos com um só elemento e reduzimos o suporte para 30%\n\n\n::: {.cell}\n\n```{.r .cell-code}\nitemset2 = apriori(filmes_trx, parameter = \n                           list(support = 0.3,\n                                minlen = 2,\n                                target = 'frequent'\n                            ))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nApriori\n\nParameter specification:\n confidence minval smax arem  aval originalSupport maxtime support minlen\n         NA    0.1    1 none FALSE            TRUE       5     0.3      2\n maxlen            target  ext\n     10 frequent itemsets TRUE\n\nAlgorithmic control:\n filter tree heap memopt load sort verbose\n    0.1 TRUE TRUE  FALSE TRUE    2    TRUE\n\nAbsolute minimum support count: 30 \n\nset item appearances ...[0 item(s)] done [0.00s].\nset transactions ...[4508 item(s), 100 transaction(s)] done [0.00s].\nsorting and recoding items ... [56 item(s)] done [0.00s].\ncreating transaction tree ... done [0.00s].\nchecking subsets of size 1 2 3 4 done [0.00s].\nsorting transactions ... done [0.00s].\nwriting ... [115 set(s)] done [0.00s].\ncreating S4 object  ... done [0.00s].\n```\n\n\n:::\n\n```{.r .cell-code}\ninspect(sort(itemset2, \n             by='support', decreasing = T)[1:5])\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    items                                                 support count\n[1] {Matrix, The,                                                      \n     Silence of the Lambs, The}                              0.40    40\n[2] {Lord of the Rings: The Fellowship of the Ring, The,               \n     Lord of the Rings: The Two Towers, The}                 0.38    38\n[3] {American Beauty,                                                  \n     Pulp Fiction}                                           0.38    38\n[4] {Pulp Fiction,                                                     \n     Silence of the Lambs, The}                              0.38    38\n[5] {Matrix, The,                                                      \n     Star Wars: Episode IV - A New Hope}                     0.38    38\n```\n\n\n:::\n:::\n\n\nAqui invertemos a ordem apresentando os 5 menos populares\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninspect(sort(itemset2, \n             by='support', decreasing = F)[1:5])\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    items                                            support count\n[1] {Matrix, The, Minority Report}                   0.3     30   \n[2] {Matrix, The, Shrek}                             0.3     30   \n[3] {Pulp Fiction, Schindler's List}                 0.3     30   \n[4] {Braveheart, Jurassic Park}                      0.3     30   \n[5] {Braveheart, Star Wars: Episode IV - A New Hope} 0.3     30   \n```\n\n\n:::\n:::\n\n\n### Avaliando diferentes níveis de confiança\n\nUsando o suporte de 40% e 30% vamos ver as diferenças nos números de regras, variando o nível de confiança.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nconfidenceLevels = seq(from=0.95, to=0.5, by=-0.05)\n\nregras_sup04 <- NULL\n\n\nfor (i in 1:length(confidenceLevels)) \n  {\n  regras_sup04[i] = \n  length(apriori(filmes_trx,\n                 parameter=list(sup=0.40, \n                                conf=confidenceLevels[i],\n                                target=\"rules\")))\n}\n\n\nregras_sup03 <- NULL\n\n\nfor (i in 1:length(confidenceLevels)) \n  {\n  regras_sup03[i] = \n  length(apriori(filmes_trx,\n                 parameter=list(sup=0.30, \n                                conf=confidenceLevels[i],\n                                target=\"rules\")))\n}\n```\n:::\n\n\n### Número de regras com suporte de 40%\n\n\n::: {.cell}\n\n```{.r .cell-code}\nqplot(confidenceLevels, regras_sup04, \n      geom=c(\"point\", \"line\"),xlab=\"Nível de Confiança\",\n      ylab=\"Numero de regras achadas\", \n      main=\"Apriori com nível de suporte de 40%\") +\n  theme_bw()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: `qplot()` was deprecated in ggplot2 3.4.0.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](Aula14_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\n### Visualizando os resultados\n\n\n::: {.cell}\n\n```{.r .cell-code}\nn_regras <- data.frame(regras_sup04, regras_sup03,\n                      confidenceLevels)\n\n# 40% e 30%\nggplot(data=n_regras, aes(x=confidenceLevels)) +\n  # regras_sup04\n  geom_line(aes(y= regras_sup04, colour=\"Nível de Suporte de 40%\")) + \n  geom_point(aes(y=regras_sup04,colour=\"Nível de Suporte de 40%\")) +\n  # regras_sup03\n  geom_line(aes(y=regras_sup03, colour=\"Nível de Suporte de 30%\")) +\n  geom_point(aes(y=regras_sup03,colour=\"Nível de Suporte de 30%\")) + \n  # \n  theme_bw() + ylab(\"Numero de regras\") +\n  ggtitle(\"Numero de regras extraídas com o apriori\")\n```\n\n::: {.cell-output-display}\n![](Aula14_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\n## Extraindo regras\n\n\n::: {.cell}\n\n```{.r .cell-code}\nregras_filmes2 = apriori(filmes_trx,\n                          parameter = list(supp = 0.3,\n                                           conf = 0.9,\n                                           minlen = 2),\n                         appearance = list(rhs=\"Matrix, The\"),\n                         control = list(verbose=F))\ninspect(regras_filmes2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    lhs                                                                          rhs           support confidence coverage     lift count\n[1] {Minority Report}                                                         => {Matrix, The}    0.30  0.9090909     0.33 1.515152    30\n[2] {Braveheart}                                                              => {Matrix, The}    0.35  0.9210526     0.38 1.535088    35\n[3] {Star Wars: Episode V - The Empire Strikes Back}                          => {Matrix, The}    0.36  0.9230769     0.39 1.538462    36\n[4] {Jurassic Park,                                                                                                                      \n     Silence of the Lambs, The}                                               => {Matrix, The}    0.30  0.9090909     0.33 1.515152    30\n[5] {Star Wars: Episode IV - A New Hope,                                                                                                 \n     Star Wars: Episode V - The Empire Strikes Back}                          => {Matrix, The}    0.34  0.9444444     0.36 1.574074    34\n[6] {Back to the Future,                                                                                                                 \n     Raiders of the Lost Ark (Indiana Jones and the Raiders of the Lost Ark)} => {Matrix, The}    0.30  0.9375000     0.32 1.562500    30\n[7] {Forrest Gump,                                                                                                                       \n     Silence of the Lambs, The}                                               => {Matrix, The}    0.31  0.9393939     0.33 1.565657    31\n[8] {Back to the Future,                                                                                                                 \n     Star Wars: Episode IV - A New Hope}                                      => {Matrix, The}    0.31  0.9393939     0.33 1.565657    31\n```\n\n\n:::\n:::\n\n\n### Visualizado como um gráfico de dispersão\n\nAs medidas selecionadas são confiança e interesse (lift)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nregras_filmes = apriori(filmes_trx,\n                          parameter = list(supp = 0.3,\n                                           conf = 0.9,\n                                           minlen = 2, \n                                           target = \"rules\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nApriori\n\nParameter specification:\n confidence minval smax arem  aval originalSupport maxtime support minlen\n        0.9    0.1    1 none FALSE            TRUE       5     0.3      2\n maxlen target  ext\n     10  rules TRUE\n\nAlgorithmic control:\n filter tree heap memopt load sort verbose\n    0.1 TRUE TRUE  FALSE TRUE    2    TRUE\n\nAbsolute minimum support count: 30 \n\nset item appearances ...[0 item(s)] done [0.00s].\nset transactions ...[4508 item(s), 100 transaction(s)] done [0.00s].\nsorting and recoding items ... [56 item(s)] done [0.00s].\ncreating transaction tree ... done [0.00s].\nchecking subsets of size 1 2 3 4 done [0.00s].\nwriting ... [26 rule(s)] done [0.00s].\ncreating S4 object  ... done [0.00s].\n```\n\n\n:::\n\n```{.r .cell-code}\nplot(regras_filmes,\n     measure = c(\"confidence\", \"lift\"),\n     shading = \"support\",\n     jitter = 1,\n     engine =\"html\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-bc333b58c9c9df29a8ae\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-bc333b58c9c9df29a8ae\">{\"x\":{\"visdat\":{\"3f1045442c38\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"3f1045442c38\",\"attrs\":{\"3f1045442c38\":{\"x\":[0.93901054931917427,0.99984887127256528,0.9988403439293192,0.93996764924574761,0.93819170663161489,0.93679105203937396,0.91790059131817303,0.92073695410713463,0.94427858531634989,0.94371760323549614,0.91067535363561047,1.0014134825156493,1.0017876560562713,0.94004470620501901,0.99820028647865089,0.92253577528160469,0.99985051755708731,1.0012478074803948,0.92178766285375391,0.92263035792740189,0.92163066007343952,1.0002079419232905,0.90927173953842033,0.972097351485393,0.92035766142652187,0.97132651468437881],\"y\":[2.600795250567379,2.648023681871094,2.2240333847789682,1.5753517154617069,1.5579571964546981,1.5685408730386643,1.9553426549788042,1.8392817090991314,2.1261328136615738,1.5885364859575022,1.4991563627083431,2.20875489351759,2.2173510384193835,2.5984823996428581,2.6154777872772739,2.5598675705134029,2.6131309264545974,2.2421771937294022,1.5446876586187386,2.0936652186901745,1.5407214588923841,2.2438093770858831,1.5221615560810293,2.1636153173155566,2.5735472253692602,2.5765939198794801],\"hoverinfo\":\"text\",\"text\":[\"[26]<BR> <B>{Lord of the Rings: The Fellowship of the Ring, The,<BR>&nbsp;&nbsp;Lord of the Rings: The Two Towers, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Return of the King, The}<\\/B> <BR><BR>confidence: 0.939 <BR>lift: 2.61 <BR>support: 0.31\",\"[25]<BR> <B>{Lord of the Rings: The Fellowship of the Ring, The,<BR>&nbsp;&nbsp;Lord of the Rings: The Return of the King, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Two Towers, The}<\\/B> <BR><BR>confidence: 1 <BR>lift: 2.63 <BR>support: 0.31\",\"[24]<BR> <B>{Lord of the Rings: The Return of the King, The,<BR>&nbsp;&nbsp;Lord of the Rings: The Two Towers, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Fellowship of the Ring, The}<\\/B> <BR><BR>confidence: 1 <BR>lift: 2.22 <BR>support: 0.31\",\"[23]<BR> <B>{Back to the Future,<BR>&nbsp;&nbsp;Star Wars: Episode IV - A New Hope}<\\/B><BR>&nbsp;&nbsp; => <B>{Matrix, The}<\\/B> <BR><BR>confidence: 0.939 <BR>lift: 1.57 <BR>support: 0.31\",\"[22]<BR> <B>{Forrest Gump,<BR>&nbsp;&nbsp;Silence of the Lambs, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Matrix, The}<\\/B> <BR><BR>confidence: 0.939 <BR>lift: 1.57 <BR>support: 0.31\",\"[21]<BR> <B>{Back to the Future,<BR>&nbsp;&nbsp;Raiders of the Lost Ark (Indiana Jones and the Raiders of the Lost Ark)}<\\/B><BR>&nbsp;&nbsp; => <B>{Matrix, The}<\\/B> <BR><BR>confidence: 0.938 <BR>lift: 1.56 <BR>support: 0.3\",\"[20]<BR> <B>{Fight Club,<BR>&nbsp;&nbsp;Silence of the Lambs, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Pulp Fiction}<\\/B> <BR><BR>confidence: 0.919 <BR>lift: 1.96 <BR>support: 0.34\",\"[19]<BR> <B>{Fight Club,<BR>&nbsp;&nbsp;Pulp Fiction}<\\/B><BR>&nbsp;&nbsp; => <B>{Silence of the Lambs, The}<\\/B> <BR><BR>confidence: 0.919 <BR>lift: 1.84 <BR>support: 0.34\",\"[18]<BR> <B>{Matrix, The,<BR>&nbsp;&nbsp;Star Wars: Episode V - The Empire Strikes Back}<\\/B><BR>&nbsp;&nbsp; => <B>{Star Wars: Episode IV - A New Hope}<\\/B> <BR><BR>confidence: 0.944 <BR>lift: 2.15 <BR>support: 0.34\",\"[17]<BR> <B>{Star Wars: Episode IV - A New Hope,<BR>&nbsp;&nbsp;Star Wars: Episode V - The Empire Strikes Back}<\\/B><BR>&nbsp;&nbsp; => <B>{Matrix, The}<\\/B> <BR><BR>confidence: 0.944 <BR>lift: 1.57 <BR>support: 0.34\",\"[16]<BR> <B>{Jurassic Park,<BR>&nbsp;&nbsp;Silence of the Lambs, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Matrix, The}<\\/B> <BR><BR>confidence: 0.909 <BR>lift: 1.52 <BR>support: 0.3\",\"[15]<BR> <B>{Lord of the Rings: The Two Towers, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Fellowship of the Ring, The}<\\/B> <BR><BR>confidence: 1 <BR>lift: 2.22 <BR>support: 0.33\",\"[14]<BR> <B>{Lord of the Rings: The Return of the King, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Fellowship of the Ring, The}<\\/B> <BR><BR>confidence: 1 <BR>lift: 2.22 <BR>support: 0.31\",\"[13]<BR> <B>{Lord of the Rings: The Two Towers, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Return of the King, The}<\\/B> <BR><BR>confidence: 0.939 <BR>lift: 2.61 <BR>support: 0.31\",\"[12]<BR> <B>{Lord of the Rings: The Return of the King, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Two Towers, The}<\\/B> <BR><BR>confidence: 1 <BR>lift: 2.63 <BR>support: 0.31\",\"[11]<BR> <B>{Lord of the Rings: The Fellowship of the Ring, The,<BR>&nbsp;&nbsp;Lord of the Rings: The Two Towers, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Return of the King, The}<\\/B> <BR><BR>confidence: 0.921 <BR>lift: 2.56 <BR>support: 0.35\",\"[10]<BR> <B>{Lord of the Rings: The Fellowship of the Ring, The,<BR>&nbsp;&nbsp;Lord of the Rings: The Return of the King, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Two Towers, The}<\\/B> <BR><BR>confidence: 1 <BR>lift: 2.63 <BR>support: 0.35\",\"[9]<BR> <B>{Lord of the Rings: The Return of the King, The,<BR>&nbsp;&nbsp;Lord of the Rings: The Two Towers, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Fellowship of the Ring, The}<\\/B> <BR><BR>confidence: 1 <BR>lift: 2.22 <BR>support: 0.35\",\"[8]<BR> <B>{Star Wars: Episode V - The Empire Strikes Back}<\\/B><BR>&nbsp;&nbsp; => <B>{Matrix, The}<\\/B> <BR><BR>confidence: 0.923 <BR>lift: 1.54 <BR>support: 0.36\",\"[7]<BR> <B>{Star Wars: Episode V - The Empire Strikes Back}<\\/B><BR>&nbsp;&nbsp; => <B>{Star Wars: Episode IV - A New Hope}<\\/B> <BR><BR>confidence: 0.923 <BR>lift: 2.1 <BR>support: 0.36\",\"[6]<BR> <B>{Braveheart}<\\/B><BR>&nbsp;&nbsp; => <B>{Matrix, The}<\\/B> <BR><BR>confidence: 0.921 <BR>lift: 1.54 <BR>support: 0.35\",\"[5]<BR> <B>{Lord of the Rings: The Two Towers, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Fellowship of the Ring, The}<\\/B> <BR><BR>confidence: 1 <BR>lift: 2.22 <BR>support: 0.38\",\"[4]<BR> <B>{Minority Report}<\\/B><BR>&nbsp;&nbsp; => <B>{Matrix, The}<\\/B> <BR><BR>confidence: 0.909 <BR>lift: 1.52 <BR>support: 0.3\",\"[3]<BR> <B>{Lord of the Rings: The Return of the King, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Fellowship of the Ring, The}<\\/B> <BR><BR>confidence: 0.972 <BR>lift: 2.16 <BR>support: 0.35\",\"[2]<BR> <B>{Lord of the Rings: The Two Towers, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Return of the King, The}<\\/B> <BR><BR>confidence: 0.921 <BR>lift: 2.56 <BR>support: 0.35\",\"[1]<BR> <B>{Lord of the Rings: The Return of the King, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Two Towers, The}<\\/B> <BR><BR>confidence: 0.972 <BR>lift: 2.56 <BR>support: 0.35\"],\"mode\":\"markers\",\"marker\":[],\"color\":[0.31,0.31,0.31,0.31,0.31,0.29999999999999999,0.34000000000000002,0.34000000000000002,0.34000000000000002,0.34000000000000002,0.29999999999999999,0.33000000000000002,0.31,0.31,0.31,0.34999999999999998,0.34999999999999998,0.34999999999999998,0.35999999999999999,0.35999999999999999,0.34999999999999998,0.38,0.29999999999999999,0.34999999999999998,0.34999999999999998,0.34999999999999998],\"colors\":[\"#EEEEEEFF\",\"#EE0000FF\"],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatter\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"confidence\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"lift\"},\"hovermode\":\"closest\",\"showlegend\":false,\"legend\":{\"yanchor\":\"top\",\"y\":0.5}},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"x\":[0.93901054931917427,0.99984887127256528,0.9988403439293192,0.93996764924574761,0.93819170663161489,0.93679105203937396,0.91790059131817303,0.92073695410713463,0.94427858531634989,0.94371760323549614,0.91067535363561047,1.0014134825156493,1.0017876560562713,0.94004470620501901,0.99820028647865089,0.92253577528160469,0.99985051755708731,1.0012478074803948,0.92178766285375391,0.92263035792740189,0.92163066007343952,1.0002079419232905,0.90927173953842033,0.972097351485393,0.92035766142652187,0.97132651468437881],\"y\":[2.600795250567379,2.648023681871094,2.2240333847789682,1.5753517154617069,1.5579571964546981,1.5685408730386643,1.9553426549788042,1.8392817090991314,2.1261328136615738,1.5885364859575022,1.4991563627083431,2.20875489351759,2.2173510384193835,2.5984823996428581,2.6154777872772739,2.5598675705134029,2.6131309264545974,2.2421771937294022,1.5446876586187386,2.0936652186901745,1.5407214588923841,2.2438093770858831,1.5221615560810293,2.1636153173155566,2.5735472253692602,2.5765939198794801],\"hoverinfo\":[\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\"],\"text\":[\"[26]<BR> <B>{Lord of the Rings: The Fellowship of the Ring, The,<BR>&nbsp;&nbsp;Lord of the Rings: The Two Towers, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Return of the King, The}<\\/B> <BR><BR>confidence: 0.939 <BR>lift: 2.61 <BR>support: 0.31\",\"[25]<BR> <B>{Lord of the Rings: The Fellowship of the Ring, The,<BR>&nbsp;&nbsp;Lord of the Rings: The Return of the King, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Two Towers, The}<\\/B> <BR><BR>confidence: 1 <BR>lift: 2.63 <BR>support: 0.31\",\"[24]<BR> <B>{Lord of the Rings: The Return of the King, The,<BR>&nbsp;&nbsp;Lord of the Rings: The Two Towers, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Fellowship of the Ring, The}<\\/B> <BR><BR>confidence: 1 <BR>lift: 2.22 <BR>support: 0.31\",\"[23]<BR> <B>{Back to the Future,<BR>&nbsp;&nbsp;Star Wars: Episode IV - A New Hope}<\\/B><BR>&nbsp;&nbsp; => <B>{Matrix, The}<\\/B> <BR><BR>confidence: 0.939 <BR>lift: 1.57 <BR>support: 0.31\",\"[22]<BR> <B>{Forrest Gump,<BR>&nbsp;&nbsp;Silence of the Lambs, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Matrix, The}<\\/B> <BR><BR>confidence: 0.939 <BR>lift: 1.57 <BR>support: 0.31\",\"[21]<BR> <B>{Back to the Future,<BR>&nbsp;&nbsp;Raiders of the Lost Ark (Indiana Jones and the Raiders of the Lost Ark)}<\\/B><BR>&nbsp;&nbsp; => <B>{Matrix, The}<\\/B> <BR><BR>confidence: 0.938 <BR>lift: 1.56 <BR>support: 0.3\",\"[20]<BR> <B>{Fight Club,<BR>&nbsp;&nbsp;Silence of the Lambs, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Pulp Fiction}<\\/B> <BR><BR>confidence: 0.919 <BR>lift: 1.96 <BR>support: 0.34\",\"[19]<BR> <B>{Fight Club,<BR>&nbsp;&nbsp;Pulp Fiction}<\\/B><BR>&nbsp;&nbsp; => <B>{Silence of the Lambs, The}<\\/B> <BR><BR>confidence: 0.919 <BR>lift: 1.84 <BR>support: 0.34\",\"[18]<BR> <B>{Matrix, The,<BR>&nbsp;&nbsp;Star Wars: Episode V - The Empire Strikes Back}<\\/B><BR>&nbsp;&nbsp; => <B>{Star Wars: Episode IV - A New Hope}<\\/B> <BR><BR>confidence: 0.944 <BR>lift: 2.15 <BR>support: 0.34\",\"[17]<BR> <B>{Star Wars: Episode IV - A New Hope,<BR>&nbsp;&nbsp;Star Wars: Episode V - The Empire Strikes Back}<\\/B><BR>&nbsp;&nbsp; => <B>{Matrix, The}<\\/B> <BR><BR>confidence: 0.944 <BR>lift: 1.57 <BR>support: 0.34\",\"[16]<BR> <B>{Jurassic Park,<BR>&nbsp;&nbsp;Silence of the Lambs, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Matrix, The}<\\/B> <BR><BR>confidence: 0.909 <BR>lift: 1.52 <BR>support: 0.3\",\"[15]<BR> <B>{Lord of the Rings: The Two Towers, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Fellowship of the Ring, The}<\\/B> <BR><BR>confidence: 1 <BR>lift: 2.22 <BR>support: 0.33\",\"[14]<BR> <B>{Lord of the Rings: The Return of the King, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Fellowship of the Ring, The}<\\/B> <BR><BR>confidence: 1 <BR>lift: 2.22 <BR>support: 0.31\",\"[13]<BR> <B>{Lord of the Rings: The Two Towers, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Return of the King, The}<\\/B> <BR><BR>confidence: 0.939 <BR>lift: 2.61 <BR>support: 0.31\",\"[12]<BR> <B>{Lord of the Rings: The Return of the King, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Two Towers, The}<\\/B> <BR><BR>confidence: 1 <BR>lift: 2.63 <BR>support: 0.31\",\"[11]<BR> <B>{Lord of the Rings: The Fellowship of the Ring, The,<BR>&nbsp;&nbsp;Lord of the Rings: The Two Towers, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Return of the King, The}<\\/B> <BR><BR>confidence: 0.921 <BR>lift: 2.56 <BR>support: 0.35\",\"[10]<BR> <B>{Lord of the Rings: The Fellowship of the Ring, The,<BR>&nbsp;&nbsp;Lord of the Rings: The Return of the King, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Two Towers, The}<\\/B> <BR><BR>confidence: 1 <BR>lift: 2.63 <BR>support: 0.35\",\"[9]<BR> <B>{Lord of the Rings: The Return of the King, The,<BR>&nbsp;&nbsp;Lord of the Rings: The Two Towers, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Fellowship of the Ring, The}<\\/B> <BR><BR>confidence: 1 <BR>lift: 2.22 <BR>support: 0.35\",\"[8]<BR> <B>{Star Wars: Episode V - The Empire Strikes Back}<\\/B><BR>&nbsp;&nbsp; => <B>{Matrix, The}<\\/B> <BR><BR>confidence: 0.923 <BR>lift: 1.54 <BR>support: 0.36\",\"[7]<BR> <B>{Star Wars: Episode V - The Empire Strikes Back}<\\/B><BR>&nbsp;&nbsp; => <B>{Star Wars: Episode IV - A New Hope}<\\/B> <BR><BR>confidence: 0.923 <BR>lift: 2.1 <BR>support: 0.36\",\"[6]<BR> <B>{Braveheart}<\\/B><BR>&nbsp;&nbsp; => <B>{Matrix, The}<\\/B> <BR><BR>confidence: 0.921 <BR>lift: 1.54 <BR>support: 0.35\",\"[5]<BR> <B>{Lord of the Rings: The Two Towers, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Fellowship of the Ring, The}<\\/B> <BR><BR>confidence: 1 <BR>lift: 2.22 <BR>support: 0.38\",\"[4]<BR> <B>{Minority Report}<\\/B><BR>&nbsp;&nbsp; => <B>{Matrix, The}<\\/B> <BR><BR>confidence: 0.909 <BR>lift: 1.52 <BR>support: 0.3\",\"[3]<BR> <B>{Lord of the Rings: The Return of the King, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Fellowship of the Ring, The}<\\/B> <BR><BR>confidence: 0.972 <BR>lift: 2.16 <BR>support: 0.35\",\"[2]<BR> <B>{Lord of the Rings: The Two Towers, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Return of the King, The}<\\/B> <BR><BR>confidence: 0.921 <BR>lift: 2.56 <BR>support: 0.35\",\"[1]<BR> <B>{Lord of the Rings: The Return of the King, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Two Towers, The}<\\/B> <BR><BR>confidence: 0.972 <BR>lift: 2.56 <BR>support: 0.35\"],\"mode\":\"markers\",\"type\":\"scatter\",\"marker\":{\"colorbar\":{\"title\":\"\",\"ticklen\":2},\"cmin\":0.29999999999999999,\"cmax\":0.38,\"colorscale\":[[\"0\",\"rgba(238,238,238,1)\"],[\"0.0416666666666669\",\"rgba(241,231,228,1)\"],[\"0.0833333333333332\",\"rgba(244,223,218,1)\"],[\"0.125\",\"rgba(247,216,208,1)\"],[\"0.166666666666667\",\"rgba(249,208,198,1)\"],[\"0.208333333333333\",\"rgba(251,201,188,1)\"],[\"0.25\",\"rgba(252,193,178,1)\"],[\"0.291666666666666\",\"rgba(253,186,168,1)\"],[\"0.333333333333333\",\"rgba(254,178,158,1)\"],[\"0.375\",\"rgba(255,170,149,1)\"],[\"0.416666666666667\",\"rgba(255,163,139,1)\"],[\"0.458333333333333\",\"rgba(255,155,130,1)\"],[\"0.5\",\"rgba(255,147,120,1)\"],[\"0.541666666666667\",\"rgba(255,139,111,1)\"],[\"0.583333333333333\",\"rgba(254,131,102,1)\"],[\"0.625\",\"rgba(253,123,92,1)\"],[\"0.666666666666667\",\"rgba(252,114,83,1)\"],[\"0.708333333333334\",\"rgba(251,105,74,1)\"],[\"0.75\",\"rgba(250,96,65,1)\"],[\"0.791666666666667\",\"rgba(248,86,56,1)\"],[\"0.833333333333334\",\"rgba(246,76,46,1)\"],[\"0.875\",\"rgba(245,65,37,1)\"],[\"0.916666666666667\",\"rgba(242,51,26,1)\"],[\"0.958333333333334\",\"rgba(240,34,14,1)\"],[\"1\",\"rgba(238,0,0,1)\"]],\"showscale\":false,\"color\":[0.31,0.31,0.31,0.31,0.31,0.29999999999999999,0.34000000000000002,0.34000000000000002,0.34000000000000002,0.34000000000000002,0.29999999999999999,0.33000000000000002,0.31,0.31,0.31,0.34999999999999998,0.34999999999999998,0.34999999999999998,0.35999999999999999,0.35999999999999999,0.34999999999999998,0.38,0.29999999999999999,0.34999999999999998,0.34999999999999998,0.34999999999999998],\"line\":{\"colorbar\":{\"title\":\"\",\"ticklen\":2},\"cmin\":0.29999999999999999,\"cmax\":0.38,\"colorscale\":[[\"0\",\"rgba(238,238,238,1)\"],[\"0.0416666666666669\",\"rgba(241,231,228,1)\"],[\"0.0833333333333332\",\"rgba(244,223,218,1)\"],[\"0.125\",\"rgba(247,216,208,1)\"],[\"0.166666666666667\",\"rgba(249,208,198,1)\"],[\"0.208333333333333\",\"rgba(251,201,188,1)\"],[\"0.25\",\"rgba(252,193,178,1)\"],[\"0.291666666666666\",\"rgba(253,186,168,1)\"],[\"0.333333333333333\",\"rgba(254,178,158,1)\"],[\"0.375\",\"rgba(255,170,149,1)\"],[\"0.416666666666667\",\"rgba(255,163,139,1)\"],[\"0.458333333333333\",\"rgba(255,155,130,1)\"],[\"0.5\",\"rgba(255,147,120,1)\"],[\"0.541666666666667\",\"rgba(255,139,111,1)\"],[\"0.583333333333333\",\"rgba(254,131,102,1)\"],[\"0.625\",\"rgba(253,123,92,1)\"],[\"0.666666666666667\",\"rgba(252,114,83,1)\"],[\"0.708333333333334\",\"rgba(251,105,74,1)\"],[\"0.75\",\"rgba(250,96,65,1)\"],[\"0.791666666666667\",\"rgba(248,86,56,1)\"],[\"0.833333333333334\",\"rgba(246,76,46,1)\"],[\"0.875\",\"rgba(245,65,37,1)\"],[\"0.916666666666667\",\"rgba(242,51,26,1)\"],[\"0.958333333333334\",\"rgba(240,34,14,1)\"],[\"1\",\"rgba(238,0,0,1)\"]],\"showscale\":false,\"color\":[0.31,0.31,0.31,0.31,0.31,0.29999999999999999,0.34000000000000002,0.34000000000000002,0.34000000000000002,0.34000000000000002,0.29999999999999999,0.33000000000000002,0.31,0.31,0.31,0.34999999999999998,0.34999999999999998,0.34999999999999998,0.35999999999999999,0.35999999999999999,0.34999999999999998,0.38,0.29999999999999999,0.34999999999999998,0.34999999999999998,0.34999999999999998]}},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[0.90927173953842033,1.0017876560562713],\"y\":[1.4991563627083431,2.648023681871094],\"type\":\"scatter\",\"mode\":\"markers\",\"opacity\":0,\"hoverinfo\":\"none\",\"showlegend\":false,\"marker\":{\"colorbar\":{\"title\":\"support\",\"ticklen\":2,\"len\":0.5,\"lenmode\":\"fraction\",\"y\":1,\"yanchor\":\"top\"},\"cmin\":0.29999999999999999,\"cmax\":0.38,\"colorscale\":[[\"0\",\"rgba(238,238,238,1)\"],[\"0.0416666666666669\",\"rgba(241,231,228,1)\"],[\"0.0833333333333332\",\"rgba(244,223,218,1)\"],[\"0.125\",\"rgba(247,216,208,1)\"],[\"0.166666666666667\",\"rgba(249,208,198,1)\"],[\"0.208333333333333\",\"rgba(251,201,188,1)\"],[\"0.25\",\"rgba(252,193,178,1)\"],[\"0.291666666666666\",\"rgba(253,186,168,1)\"],[\"0.333333333333333\",\"rgba(254,178,158,1)\"],[\"0.375\",\"rgba(255,170,149,1)\"],[\"0.416666666666667\",\"rgba(255,163,139,1)\"],[\"0.458333333333333\",\"rgba(255,155,130,1)\"],[\"0.5\",\"rgba(255,147,120,1)\"],[\"0.541666666666667\",\"rgba(255,139,111,1)\"],[\"0.583333333333333\",\"rgba(254,131,102,1)\"],[\"0.625\",\"rgba(253,123,92,1)\"],[\"0.666666666666667\",\"rgba(252,114,83,1)\"],[\"0.708333333333334\",\"rgba(251,105,74,1)\"],[\"0.75\",\"rgba(250,96,65,1)\"],[\"0.791666666666667\",\"rgba(248,86,56,1)\"],[\"0.833333333333334\",\"rgba(246,76,46,1)\"],[\"0.875\",\"rgba(245,65,37,1)\"],[\"0.916666666666667\",\"rgba(242,51,26,1)\"],[\"0.958333333333334\",\"rgba(240,34,14,1)\"],[\"1\",\"rgba(238,0,0,1)\"]],\"showscale\":true,\"color\":[0.29999999999999999,0.38],\"line\":{\"color\":\"rgba(255,127,14,1)\"}},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Interactive matrix-based plot\nplot(regras_filmes, method = \"matrix\",\n     shading =\"confidence\",\n     engine = \"html\"\n     )\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-175c8cb598382fe22ca5\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-175c8cb598382fe22ca5\">{\"x\":{\"visdat\":{\"3f10ede9c0\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"3f10ede9c0\",\"attrs\":{\"3f10ede9c0\":{\"z\":[[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.91891891891891897,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.91891891891891897,null,null,null],[null,null,null,null,null,null,null,null,0.94444444444444442,null,0.93939393939393945,0.93939393939393945,null,0.9375,0.92307692307692313,0.92105263157894735,null,null,null,0.90909090909090906,0.90909090909090906],[null,null,null,null,null,null,0.93939393939393945,0.92105263157894735,null,null,null,null,0.93939393939393945,null,null,null,0.92105263157894735,null,null,null,null],[null,null,null,null,null,null,null,null,null,0.94444444444444442,null,null,null,null,0.92307692307692313,null,null,null,null,null,null],[null,1,1,null,1,0.97222222222222221,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[1,null,1,1,null,0.97222222222222221,1,1,null,null,null,null,null,null,null,null,null,null,null,null,null]],\"x\":[\"{Lord of the Rings: The Return of the King, The,Lord of the Rings: The Two Towers, The}\",\"{Lord of the Rings: The Fellowship of the Ring, The,Lord of the Rings: The Return of the King, The}\",\"{Lord of the Rings: The Return of the King, The,Matrix, The}\",\"{Lord of the Rings: The Return of the King, The,Lord of the Rings: The Two Towers, The,Matrix, The}\",\"{Lord of the Rings: The Fellowship of the Ring, The,Lord of the Rings: The Return of the King, The,Matrix, The}\",\"{Lord of the Rings: The Return of the King, The}\",\"{Lord of the Rings: The Two Towers, The,Matrix, The}\",\"{Lord of the Rings: The Two Towers, The}\",\"{Star Wars: Episode IV - A New Hope,Star Wars: Episode V - The Empire Strikes Back}\",\"{Matrix, The,Star Wars: Episode V - The Empire Strikes Back}\",\"{Forrest Gump,Silence of the Lambs, The}\",\"{Back to the Future,Star Wars: Episode IV - A New Hope}\",\"{Lord of the Rings: The Fellowship of the Ring, The,Lord of the Rings: The Two Towers, The,Matrix, The}\",\"{Back to the Future,Raiders of the Lost Ark (Indiana Jones and the Raiders of the Lost Ark)}\",\"{Star Wars: Episode V - The Empire Strikes Back}\",\"{Braveheart}\",\"{Lord of the Rings: The Fellowship of the Ring, The,Lord of the Rings: The Two Towers, The}\",\"{Fight Club,Pulp Fiction}\",\"{Fight Club,Silence of the Lambs, The}\",\"{Minority Report}\",\"{Jurassic Park,Silence of the Lambs, The}\"],\"y\":[\"{Pulp Fiction}\",\"{Silence of the Lambs, The}\",\"{Matrix, The}\",\"{Lord of the Rings: The Return of the King, The}\",\"{Star Wars: Episode IV - A New Hope}\",\"{Lord of the Rings: The Two Towers, The}\",\"{Lord of the Rings: The Fellowship of the Ring, The}\"],\"colorbar\":{\"title\":\"confidence\"},\"hoverinfo\":\"text\",\"text\":[[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,\"<B>{Fight Club,Silence of the Lambs, The}<BR>&nbsp;&nbsp; => {Pulp Fiction}<\\/B><BR>confidence: 0.919<BR>support: 0.34<BR>confidence: 0.919\",null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,\"<B>{Fight Club,Pulp Fiction}<BR>&nbsp;&nbsp; => {Silence of the Lambs, The}<\\/B><BR>confidence: 0.919<BR>support: 0.34<BR>confidence: 0.919\",null,null,null],[null,null,null,null,null,null,null,null,\"<B>{Star Wars: Episode IV - A New Hope,Star Wars: Episode V - The Empire Strikes Back}<BR>&nbsp;&nbsp; => {Matrix, The}<\\/B><BR>confidence: 0.944<BR>support: 0.34<BR>confidence: 0.944\",null,\"<B>{Forrest Gump,Silence of the Lambs, The}<BR>&nbsp;&nbsp; => {Matrix, The}<\\/B><BR>confidence: 0.939<BR>support: 0.31<BR>confidence: 0.939\",\"<B>{Back to the Future,Star Wars: Episode IV - A New Hope}<BR>&nbsp;&nbsp; => {Matrix, The}<\\/B><BR>confidence: 0.939<BR>support: 0.31<BR>confidence: 0.939\",null,\"<B>{Back to the Future,Raiders of the Lost Ark (Indiana Jones and the Raiders of the Lost Ark)}<BR>&nbsp;&nbsp; => {Matrix, The}<\\/B><BR>confidence: 0.938<BR>support: 0.3<BR>confidence: 0.938\",\"<B>{Star Wars: Episode V - The Empire Strikes Back}<BR>&nbsp;&nbsp; => {Matrix, The}<\\/B><BR>confidence: 0.923<BR>support: 0.36<BR>confidence: 0.923\",\"<B>{Braveheart}<BR>&nbsp;&nbsp; => {Matrix, The}<\\/B><BR>confidence: 0.921<BR>support: 0.35<BR>confidence: 0.921\",null,null,null,\"<B>{Minority Report}<BR>&nbsp;&nbsp; => {Matrix, The}<\\/B><BR>confidence: 0.909<BR>support: 0.3<BR>confidence: 0.909\",\"<B>{Jurassic Park,Silence of the Lambs, The}<BR>&nbsp;&nbsp; => {Matrix, The}<\\/B><BR>confidence: 0.909<BR>support: 0.3<BR>confidence: 0.909\"],[null,null,null,null,null,null,\"<B>{Lord of the Rings: The Two Towers, The,Matrix, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Return of the King, The}<\\/B><BR>confidence: 0.939<BR>support: 0.31<BR>confidence: 0.939\",\"<B>{Lord of the Rings: The Two Towers, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Return of the King, The}<\\/B><BR>confidence: 0.921<BR>support: 0.35<BR>confidence: 0.921\",null,null,null,null,\"<B>{Lord of the Rings: The Fellowship of the Ring, The,Lord of the Rings: The Two Towers, The,Matrix, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Return of the King, The}<\\/B><BR>confidence: 0.939<BR>support: 0.31<BR>confidence: 0.939\",null,null,null,\"<B>{Lord of the Rings: The Fellowship of the Ring, The,Lord of the Rings: The Two Towers, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Return of the King, The}<\\/B><BR>confidence: 0.921<BR>support: 0.35<BR>confidence: 0.921\",null,null,null,null],[null,null,null,null,null,null,null,null,null,\"<B>{Matrix, The,Star Wars: Episode V - The Empire Strikes Back}<BR>&nbsp;&nbsp; => {Star Wars: Episode IV - A New Hope}<\\/B><BR>confidence: 0.944<BR>support: 0.34<BR>confidence: 0.944\",null,null,null,null,\"<B>{Star Wars: Episode V - The Empire Strikes Back}<BR>&nbsp;&nbsp; => {Star Wars: Episode IV - A New Hope}<\\/B><BR>confidence: 0.923<BR>support: 0.36<BR>confidence: 0.923\",null,null,null,null,null,null],[null,\"<B>{Lord of the Rings: The Fellowship of the Ring, The,Lord of the Rings: The Return of the King, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Two Towers, The}<\\/B><BR>confidence: 1<BR>support: 0.35<BR>confidence: 1\",\"<B>{Lord of the Rings: The Return of the King, The,Matrix, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Two Towers, The}<\\/B><BR>confidence: 1<BR>support: 0.31<BR>confidence: 1\",null,\"<B>{Lord of the Rings: The Fellowship of the Ring, The,Lord of the Rings: The Return of the King, The,Matrix, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Two Towers, The}<\\/B><BR>confidence: 1<BR>support: 0.31<BR>confidence: 1\",\"<B>{Lord of the Rings: The Return of the King, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Two Towers, The}<\\/B><BR>confidence: 0.972<BR>support: 0.35<BR>confidence: 0.972\",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[\"<B>{Lord of the Rings: The Return of the King, The,Lord of the Rings: The Two Towers, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Fellowship of the Ring, The}<\\/B><BR>confidence: 1<BR>support: 0.35<BR>confidence: 1\",null,\"<B>{Lord of the Rings: The Return of the King, The,Matrix, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Fellowship of the Ring, The}<\\/B><BR>confidence: 1<BR>support: 0.31<BR>confidence: 1\",\"<B>{Lord of the Rings: The Return of the King, The,Lord of the Rings: The Two Towers, The,Matrix, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Fellowship of the Ring, The}<\\/B><BR>confidence: 1<BR>support: 0.31<BR>confidence: 1\",null,\"<B>{Lord of the Rings: The Return of the King, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Fellowship of the Ring, The}<\\/B><BR>confidence: 0.972<BR>support: 0.35<BR>confidence: 0.972\",\"<B>{Lord of the Rings: The Two Towers, The,Matrix, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Fellowship of the Ring, The}<\\/B><BR>confidence: 1<BR>support: 0.33<BR>confidence: 1\",\"<B>{Lord of the Rings: The Two Towers, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Fellowship of the Ring, The}<\\/B><BR>confidence: 1<BR>support: 0.38<BR>confidence: 1\",null,null,null,null,null,null,null,null,null,null,null,null,null]],\"colors\":[\"#EEEEEEFF\",\"#EE0000FF\"],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"heatmap\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"LHS\",\"showticklabels\":false,\"showgrid\":true,\"ticks\":\"\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"RHS\",\"showticklabels\":false,\"showgrid\":true,\"ticks\":\"\"},\"scene\":{\"zaxis\":{\"title\":[]}},\"hovermode\":\"closest\",\"showlegend\":false,\"legend\":{\"yanchor\":\"top\",\"y\":0.5}},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"colorbar\":{\"title\":\"confidence\",\"ticklen\":2,\"len\":0.5,\"lenmode\":\"fraction\",\"y\":1,\"yanchor\":\"top\"},\"colorscale\":[[\"0\",\"rgba(238,238,238,1)\"],[\"0.0416666666666666\",\"rgba(241,231,228,1)\"],[\"0.0833333333333332\",\"rgba(244,223,218,1)\"],[\"0.125\",\"rgba(247,216,208,1)\"],[\"0.166666666666666\",\"rgba(249,208,198,1)\"],[\"0.208333333333333\",\"rgba(251,201,188,1)\"],[\"0.25\",\"rgba(252,193,178,1)\"],[\"0.291666666666666\",\"rgba(253,186,168,1)\"],[\"0.333333333333333\",\"rgba(254,178,158,1)\"],[\"0.375\",\"rgba(255,170,149,1)\"],[\"0.416666666666666\",\"rgba(255,163,139,1)\"],[\"0.458333333333333\",\"rgba(255,155,130,1)\"],[\"0.500000000000001\",\"rgba(255,147,120,1)\"],[\"0.541666666666667\",\"rgba(255,139,111,1)\"],[\"0.583333333333334\",\"rgba(254,131,102,1)\"],[\"0.625\",\"rgba(253,123,92,1)\"],[\"0.666666666666667\",\"rgba(252,114,83,1)\"],[\"0.708333333333334\",\"rgba(251,105,74,1)\"],[\"0.75\",\"rgba(250,96,65,1)\"],[\"0.791666666666667\",\"rgba(248,86,56,1)\"],[\"0.833333333333333\",\"rgba(246,76,46,1)\"],[\"0.875\",\"rgba(245,65,37,1)\"],[\"0.916666666666667\",\"rgba(242,51,26,1)\"],[\"0.958333333333333\",\"rgba(240,34,14,1)\"],[\"1\",\"rgba(238,0,0,1)\"]],\"showscale\":true,\"z\":[[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.91891891891891897,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.91891891891891897,null,null,null],[null,null,null,null,null,null,null,null,0.94444444444444442,null,0.93939393939393945,0.93939393939393945,null,0.9375,0.92307692307692313,0.92105263157894735,null,null,null,0.90909090909090906,0.90909090909090906],[null,null,null,null,null,null,0.93939393939393945,0.92105263157894735,null,null,null,null,0.93939393939393945,null,null,null,0.92105263157894735,null,null,null,null],[null,null,null,null,null,null,null,null,null,0.94444444444444442,null,null,null,null,0.92307692307692313,null,null,null,null,null,null],[null,1,1,null,1,0.97222222222222221,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[1,null,1,1,null,0.97222222222222221,1,1,null,null,null,null,null,null,null,null,null,null,null,null,null]],\"x\":[\"{Lord of the Rings: The Return of the King, The,Lord of the Rings: The Two Towers, The}\",\"{Lord of the Rings: The Fellowship of the Ring, The,Lord of the Rings: The Return of the King, The}\",\"{Lord of the Rings: The Return of the King, The,Matrix, The}\",\"{Lord of the Rings: The Return of the King, The,Lord of the Rings: The Two Towers, The,Matrix, The}\",\"{Lord of the Rings: The Fellowship of the Ring, The,Lord of the Rings: The Return of the King, The,Matrix, The}\",\"{Lord of the Rings: The Return of the King, The}\",\"{Lord of the Rings: The Two Towers, The,Matrix, The}\",\"{Lord of the Rings: The Two Towers, The}\",\"{Star Wars: Episode IV - A New Hope,Star Wars: Episode V - The Empire Strikes Back}\",\"{Matrix, The,Star Wars: Episode V - The Empire Strikes Back}\",\"{Forrest Gump,Silence of the Lambs, The}\",\"{Back to the Future,Star Wars: Episode IV - A New Hope}\",\"{Lord of the Rings: The Fellowship of the Ring, The,Lord of the Rings: The Two Towers, The,Matrix, The}\",\"{Back to the Future,Raiders of the Lost Ark (Indiana Jones and the Raiders of the Lost Ark)}\",\"{Star Wars: Episode V - The Empire Strikes Back}\",\"{Braveheart}\",\"{Lord of the Rings: The Fellowship of the Ring, The,Lord of the Rings: The Two Towers, The}\",\"{Fight Club,Pulp Fiction}\",\"{Fight Club,Silence of the Lambs, The}\",\"{Minority Report}\",\"{Jurassic Park,Silence of the Lambs, The}\"],\"y\":[\"{Pulp Fiction}\",\"{Silence of the Lambs, The}\",\"{Matrix, The}\",\"{Lord of the Rings: The Return of the King, The}\",\"{Star Wars: Episode IV - A New Hope}\",\"{Lord of the Rings: The Two Towers, The}\",\"{Lord of the Rings: The Fellowship of the Ring, The}\"],\"hoverinfo\":\"text\",\"text\":[[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,\"<B>{Fight Club,Silence of the Lambs, The}<BR>&nbsp;&nbsp; => {Pulp Fiction}<\\/B><BR>confidence: 0.919<BR>support: 0.34<BR>confidence: 0.919\",null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,\"<B>{Fight Club,Pulp Fiction}<BR>&nbsp;&nbsp; => {Silence of the Lambs, The}<\\/B><BR>confidence: 0.919<BR>support: 0.34<BR>confidence: 0.919\",null,null,null],[null,null,null,null,null,null,null,null,\"<B>{Star Wars: Episode IV - A New Hope,Star Wars: Episode V - The Empire Strikes Back}<BR>&nbsp;&nbsp; => {Matrix, The}<\\/B><BR>confidence: 0.944<BR>support: 0.34<BR>confidence: 0.944\",null,\"<B>{Forrest Gump,Silence of the Lambs, The}<BR>&nbsp;&nbsp; => {Matrix, The}<\\/B><BR>confidence: 0.939<BR>support: 0.31<BR>confidence: 0.939\",\"<B>{Back to the Future,Star Wars: Episode IV - A New Hope}<BR>&nbsp;&nbsp; => {Matrix, The}<\\/B><BR>confidence: 0.939<BR>support: 0.31<BR>confidence: 0.939\",null,\"<B>{Back to the Future,Raiders of the Lost Ark (Indiana Jones and the Raiders of the Lost Ark)}<BR>&nbsp;&nbsp; => {Matrix, The}<\\/B><BR>confidence: 0.938<BR>support: 0.3<BR>confidence: 0.938\",\"<B>{Star Wars: Episode V - The Empire Strikes Back}<BR>&nbsp;&nbsp; => {Matrix, The}<\\/B><BR>confidence: 0.923<BR>support: 0.36<BR>confidence: 0.923\",\"<B>{Braveheart}<BR>&nbsp;&nbsp; => {Matrix, The}<\\/B><BR>confidence: 0.921<BR>support: 0.35<BR>confidence: 0.921\",null,null,null,\"<B>{Minority Report}<BR>&nbsp;&nbsp; => {Matrix, The}<\\/B><BR>confidence: 0.909<BR>support: 0.3<BR>confidence: 0.909\",\"<B>{Jurassic Park,Silence of the Lambs, The}<BR>&nbsp;&nbsp; => {Matrix, The}<\\/B><BR>confidence: 0.909<BR>support: 0.3<BR>confidence: 0.909\"],[null,null,null,null,null,null,\"<B>{Lord of the Rings: The Two Towers, The,Matrix, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Return of the King, The}<\\/B><BR>confidence: 0.939<BR>support: 0.31<BR>confidence: 0.939\",\"<B>{Lord of the Rings: The Two Towers, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Return of the King, The}<\\/B><BR>confidence: 0.921<BR>support: 0.35<BR>confidence: 0.921\",null,null,null,null,\"<B>{Lord of the Rings: The Fellowship of the Ring, The,Lord of the Rings: The Two Towers, The,Matrix, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Return of the King, The}<\\/B><BR>confidence: 0.939<BR>support: 0.31<BR>confidence: 0.939\",null,null,null,\"<B>{Lord of the Rings: The Fellowship of the Ring, The,Lord of the Rings: The Two Towers, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Return of the King, The}<\\/B><BR>confidence: 0.921<BR>support: 0.35<BR>confidence: 0.921\",null,null,null,null],[null,null,null,null,null,null,null,null,null,\"<B>{Matrix, The,Star Wars: Episode V - The Empire Strikes Back}<BR>&nbsp;&nbsp; => {Star Wars: Episode IV - A New Hope}<\\/B><BR>confidence: 0.944<BR>support: 0.34<BR>confidence: 0.944\",null,null,null,null,\"<B>{Star Wars: Episode V - The Empire Strikes Back}<BR>&nbsp;&nbsp; => {Star Wars: Episode IV - A New Hope}<\\/B><BR>confidence: 0.923<BR>support: 0.36<BR>confidence: 0.923\",null,null,null,null,null,null],[null,\"<B>{Lord of the Rings: The Fellowship of the Ring, The,Lord of the Rings: The Return of the King, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Two Towers, The}<\\/B><BR>confidence: 1<BR>support: 0.35<BR>confidence: 1\",\"<B>{Lord of the Rings: The Return of the King, The,Matrix, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Two Towers, The}<\\/B><BR>confidence: 1<BR>support: 0.31<BR>confidence: 1\",null,\"<B>{Lord of the Rings: The Fellowship of the Ring, The,Lord of the Rings: The Return of the King, The,Matrix, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Two Towers, The}<\\/B><BR>confidence: 1<BR>support: 0.31<BR>confidence: 1\",\"<B>{Lord of the Rings: The Return of the King, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Two Towers, The}<\\/B><BR>confidence: 0.972<BR>support: 0.35<BR>confidence: 0.972\",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[\"<B>{Lord of the Rings: The Return of the King, The,Lord of the Rings: The Two Towers, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Fellowship of the Ring, The}<\\/B><BR>confidence: 1<BR>support: 0.35<BR>confidence: 1\",null,\"<B>{Lord of the Rings: The Return of the King, The,Matrix, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Fellowship of the Ring, The}<\\/B><BR>confidence: 1<BR>support: 0.31<BR>confidence: 1\",\"<B>{Lord of the Rings: The Return of the King, The,Lord of the Rings: The Two Towers, The,Matrix, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Fellowship of the Ring, The}<\\/B><BR>confidence: 1<BR>support: 0.31<BR>confidence: 1\",null,\"<B>{Lord of the Rings: The Return of the King, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Fellowship of the Ring, The}<\\/B><BR>confidence: 0.972<BR>support: 0.35<BR>confidence: 0.972\",\"<B>{Lord of the Rings: The Two Towers, The,Matrix, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Fellowship of the Ring, The}<\\/B><BR>confidence: 1<BR>support: 0.33<BR>confidence: 1\",\"<B>{Lord of the Rings: The Two Towers, The}<BR>&nbsp;&nbsp; => {Lord of the Rings: The Fellowship of the Ring, The}<\\/B><BR>confidence: 1<BR>support: 0.38<BR>confidence: 1\",null,null,null,null,null,null,null,null,null,null,null,null,null]],\"type\":\"heatmap\",\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Parallel coordinate plots with confidence as color coding\nplot(regras_filmes, \n     method = \"paracoord\", \n     shading = \"confidence\")\n```\n\n::: {.cell-output-display}\n![](Aula14_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Plot movie rules as a graph\nplot(regras_filmes,\n     method = \"graph\",\n     engine = \"htmlwidget\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"visNetwork html-widget html-fill-item\" id=\"htmlwidget-07f043539f5e27617358\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-07f043539f5e27617358\">{\"x\":{\"nodes\":{\"id\":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41],\"label\":[\"Back to the Future\",\"Braveheart\",\"Fight Club\",\"Forrest Gump\",\"Jurassic Park\",\"Lord of the Rings: The Fellowship of the Ring, The\",\"Lord of the Rings: The Return of the King, The\",\"Lord of the Rings: The Two Towers, The\",\"Matrix, The\",\"Minority Report\",\"Pulp Fiction\",\"Raiders of the Lost Ark (Indiana Jones and the Raiders of the Lost Ark)\",\"Silence of the Lambs, The\",\"Star Wars: Episode IV - A New Hope\",\"Star Wars: Episode V - The Empire Strikes Back\",\"rule 1\",\"rule 2\",\"rule 3\",\"rule 4\",\"rule 5\",\"rule 6\",\"rule 7\",\"rule 8\",\"rule 9\",\"rule 10\",\"rule 11\",\"rule 12\",\"rule 13\",\"rule 14\",\"rule 15\",\"rule 16\",\"rule 17\",\"rule 18\",\"rule 19\",\"rule 20\",\"rule 21\",\"rule 22\",\"rule 23\",\"rule 24\",\"rule 25\",\"rule 26\"],\"group\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],\"value\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,62.87499999999998,62.87499999999998,62.87499999999998,1,100,62.87499999999998,75.24999999999997,75.24999999999997,62.87499999999998,62.87499999999998,62.87499999999998,13.37500000000001,13.37500000000001,13.37500000000001,38.12500000000003,1,50.50000000000004,50.50000000000004,50.50000000000004,50.50000000000004,1,13.37500000000001,13.37500000000001,13.37500000000001,13.37500000000001,13.37500000000001],\"color\":[\"#CBD2FC\",\"#CBD2FC\",\"#CBD2FC\",\"#CBD2FC\",\"#CBD2FC\",\"#CBD2FC\",\"#CBD2FC\",\"#CBD2FC\",\"#CBD2FC\",\"#CBD2FC\",\"#CBD2FC\",\"#CBD2FC\",\"#CBD2FC\",\"#CBD2FC\",\"#CBD2FC\",\"#EE2E2E\",\"#EE2E2E\",\"#EE8484\",\"#EEDCDC\",\"#EE7575\",\"#EED9D9\",\"#EE9191\",\"#EED9D9\",\"#EE7575\",\"#EE1B1B\",\"#EE2E2E\",\"#EE1B1B\",\"#EE2222\",\"#EE7575\",\"#EE7575\",\"#EEDCDC\",\"#EED4D4\",\"#EE8888\",\"#EEB5B5\",\"#EEA5A5\",\"#EED5D5\",\"#EED5D5\",\"#EED5D5\",\"#EE7575\",\"#EE1B1B\",\"#EE2222\"],\"title\":[\"Back to the Future\",\"Braveheart\",\"Fight Club\",\"Forrest Gump\",\"Jurassic Park\",\"Lord of the Rings: The Fellowship of the Ring, The\",\"Lord of the Rings: The Return of the King, The\",\"Lord of the Rings: The Two Towers, The\",\"Matrix, The\",\"Minority Report\",\"Pulp Fiction\",\"Raiders of the Lost Ark (Indiana Jones and the Raiders of the Lost Ark)\",\"Silence of the Lambs, The\",\"Star Wars: Episode IV - A New Hope\",\"Star Wars: Episode V - The Empire Strikes Back\",\"<B>[1]<\\/B><BR><B>{Lord of the Rings: The Return of the King, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Two Towers, The}<\\/B><BR><BR>support = 0.35<BR>confidence = 0.972<BR>coverage = 0.36<BR>lift = 2.56<BR>count = 35<BR>order = 2<BR>id = 1\",\"<B>[2]<\\/B><BR><B>{Lord of the Rings: The Two Towers, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Return of the King, The}<\\/B><BR><BR>support = 0.35<BR>confidence = 0.921<BR>coverage = 0.38<BR>lift = 2.56<BR>count = 35<BR>order = 2<BR>id = 2\",\"<B>[3]<\\/B><BR><B>{Lord of the Rings: The Return of the King, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Fellowship of the Ring, The}<\\/B><BR><BR>support = 0.35<BR>confidence = 0.972<BR>coverage = 0.36<BR>lift = 2.16<BR>count = 35<BR>order = 2<BR>id = 3\",\"<B>[4]<\\/B><BR><B>{Minority Report}<\\/B><BR>&nbsp;&nbsp; => <B>{Matrix, The}<\\/B><BR><BR>support = 0.3<BR>confidence = 0.909<BR>coverage = 0.33<BR>lift = 1.52<BR>count = 30<BR>order = 2<BR>id = 4\",\"<B>[5]<\\/B><BR><B>{Lord of the Rings: The Two Towers, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Fellowship of the Ring, The}<\\/B><BR><BR>support = 0.38<BR>confidence = 1<BR>coverage = 0.38<BR>lift = 2.22<BR>count = 38<BR>order = 2<BR>id = 5\",\"<B>[6]<\\/B><BR><B>{Braveheart}<\\/B><BR>&nbsp;&nbsp; => <B>{Matrix, The}<\\/B><BR><BR>support = 0.35<BR>confidence = 0.921<BR>coverage = 0.38<BR>lift = 1.54<BR>count = 35<BR>order = 2<BR>id = 6\",\"<B>[7]<\\/B><BR><B>{Star Wars: Episode V - The Empire Strikes Back}<\\/B><BR>&nbsp;&nbsp; => <B>{Star Wars: Episode IV - A New Hope}<\\/B><BR><BR>support = 0.36<BR>confidence = 0.923<BR>coverage = 0.39<BR>lift = 2.1<BR>count = 36<BR>order = 2<BR>id = 7\",\"<B>[8]<\\/B><BR><B>{Star Wars: Episode V - The Empire Strikes Back}<\\/B><BR>&nbsp;&nbsp; => <B>{Matrix, The}<\\/B><BR><BR>support = 0.36<BR>confidence = 0.923<BR>coverage = 0.39<BR>lift = 1.54<BR>count = 36<BR>order = 2<BR>id = 8\",\"<B>[9]<\\/B><BR><B>{Lord of the Rings: The Return of the King, The,<BR>&nbsp;&nbsp;Lord of the Rings: The Two Towers, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Fellowship of the Ring, The}<\\/B><BR><BR>support = 0.35<BR>confidence = 1<BR>coverage = 0.35<BR>lift = 2.22<BR>count = 35<BR>order = 3<BR>id = 9\",\"<B>[10]<\\/B><BR><B>{Lord of the Rings: The Fellowship of the Ring, The,<BR>&nbsp;&nbsp;Lord of the Rings: The Return of the King, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Two Towers, The}<\\/B><BR><BR>support = 0.35<BR>confidence = 1<BR>coverage = 0.35<BR>lift = 2.63<BR>count = 35<BR>order = 3<BR>id = 10\",\"<B>[11]<\\/B><BR><B>{Lord of the Rings: The Fellowship of the Ring, The,<BR>&nbsp;&nbsp;Lord of the Rings: The Two Towers, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Return of the King, The}<\\/B><BR><BR>support = 0.35<BR>confidence = 0.921<BR>coverage = 0.38<BR>lift = 2.56<BR>count = 35<BR>order = 3<BR>id = 11\",\"<B>[12]<\\/B><BR><B>{Lord of the Rings: The Return of the King, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Two Towers, The}<\\/B><BR><BR>support = 0.31<BR>confidence = 1<BR>coverage = 0.31<BR>lift = 2.63<BR>count = 31<BR>order = 3<BR>id = 12\",\"<B>[13]<\\/B><BR><B>{Lord of the Rings: The Two Towers, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Return of the King, The}<\\/B><BR><BR>support = 0.31<BR>confidence = 0.939<BR>coverage = 0.33<BR>lift = 2.61<BR>count = 31<BR>order = 3<BR>id = 13\",\"<B>[14]<\\/B><BR><B>{Lord of the Rings: The Return of the King, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Fellowship of the Ring, The}<\\/B><BR><BR>support = 0.31<BR>confidence = 1<BR>coverage = 0.31<BR>lift = 2.22<BR>count = 31<BR>order = 3<BR>id = 14\",\"<B>[15]<\\/B><BR><B>{Lord of the Rings: The Two Towers, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Fellowship of the Ring, The}<\\/B><BR><BR>support = 0.33<BR>confidence = 1<BR>coverage = 0.33<BR>lift = 2.22<BR>count = 33<BR>order = 3<BR>id = 15\",\"<B>[16]<\\/B><BR><B>{Jurassic Park,<BR>&nbsp;&nbsp;Silence of the Lambs, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Matrix, The}<\\/B><BR><BR>support = 0.3<BR>confidence = 0.909<BR>coverage = 0.33<BR>lift = 1.52<BR>count = 30<BR>order = 3<BR>id = 16\",\"<B>[17]<\\/B><BR><B>{Star Wars: Episode IV - A New Hope,<BR>&nbsp;&nbsp;Star Wars: Episode V - The Empire Strikes Back}<\\/B><BR>&nbsp;&nbsp; => <B>{Matrix, The}<\\/B><BR><BR>support = 0.34<BR>confidence = 0.944<BR>coverage = 0.36<BR>lift = 1.57<BR>count = 34<BR>order = 3<BR>id = 17\",\"<B>[18]<\\/B><BR><B>{Matrix, The,<BR>&nbsp;&nbsp;Star Wars: Episode V - The Empire Strikes Back}<\\/B><BR>&nbsp;&nbsp; => <B>{Star Wars: Episode IV - A New Hope}<\\/B><BR><BR>support = 0.34<BR>confidence = 0.944<BR>coverage = 0.36<BR>lift = 2.15<BR>count = 34<BR>order = 3<BR>id = 18\",\"<B>[19]<\\/B><BR><B>{Fight Club,<BR>&nbsp;&nbsp;Pulp Fiction}<\\/B><BR>&nbsp;&nbsp; => <B>{Silence of the Lambs, The}<\\/B><BR><BR>support = 0.34<BR>confidence = 0.919<BR>coverage = 0.37<BR>lift = 1.84<BR>count = 34<BR>order = 3<BR>id = 19\",\"<B>[20]<\\/B><BR><B>{Fight Club,<BR>&nbsp;&nbsp;Silence of the Lambs, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Pulp Fiction}<\\/B><BR><BR>support = 0.34<BR>confidence = 0.919<BR>coverage = 0.37<BR>lift = 1.96<BR>count = 34<BR>order = 3<BR>id = 20\",\"<B>[21]<\\/B><BR><B>{Back to the Future,<BR>&nbsp;&nbsp;Raiders of the Lost Ark (Indiana Jones and the Raiders of the Lost Ark)}<\\/B><BR>&nbsp;&nbsp; => <B>{Matrix, The}<\\/B><BR><BR>support = 0.3<BR>confidence = 0.938<BR>coverage = 0.32<BR>lift = 1.56<BR>count = 30<BR>order = 3<BR>id = 21\",\"<B>[22]<\\/B><BR><B>{Forrest Gump,<BR>&nbsp;&nbsp;Silence of the Lambs, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Matrix, The}<\\/B><BR><BR>support = 0.31<BR>confidence = 0.939<BR>coverage = 0.33<BR>lift = 1.57<BR>count = 31<BR>order = 3<BR>id = 22\",\"<B>[23]<\\/B><BR><B>{Back to the Future,<BR>&nbsp;&nbsp;Star Wars: Episode IV - A New Hope}<\\/B><BR>&nbsp;&nbsp; => <B>{Matrix, The}<\\/B><BR><BR>support = 0.31<BR>confidence = 0.939<BR>coverage = 0.33<BR>lift = 1.57<BR>count = 31<BR>order = 3<BR>id = 23\",\"<B>[24]<\\/B><BR><B>{Lord of the Rings: The Return of the King, The,<BR>&nbsp;&nbsp;Lord of the Rings: The Two Towers, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Fellowship of the Ring, The}<\\/B><BR><BR>support = 0.31<BR>confidence = 1<BR>coverage = 0.31<BR>lift = 2.22<BR>count = 31<BR>order = 4<BR>id = 24\",\"<B>[25]<\\/B><BR><B>{Lord of the Rings: The Fellowship of the Ring, The,<BR>&nbsp;&nbsp;Lord of the Rings: The Return of the King, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Two Towers, The}<\\/B><BR><BR>support = 0.31<BR>confidence = 1<BR>coverage = 0.31<BR>lift = 2.63<BR>count = 31<BR>order = 4<BR>id = 25\",\"<B>[26]<\\/B><BR><B>{Lord of the Rings: The Fellowship of the Ring, The,<BR>&nbsp;&nbsp;Lord of the Rings: The Two Towers, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Return of the King, The}<\\/B><BR><BR>support = 0.31<BR>confidence = 0.939<BR>coverage = 0.33<BR>lift = 2.61<BR>count = 31<BR>order = 4<BR>id = 26\"],\"shape\":[\"box\",\"box\",\"box\",\"box\",\"box\",\"box\",\"box\",\"box\",\"box\",\"box\",\"box\",\"box\",\"box\",\"box\",\"box\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\"],\"x\":[-0.8015890861503875,-0.8317050690061498,0.8622217802351364,0.6713342451113351,0.2073927117918628,0.08361933621701167,0.2092091646650696,0.2752705323125224,-0.03098392448167742,0.8039043700339812,1,-1,0.5597894032911277,-0.5487276556416179,-0.3964407383049874,0.4849596911373204,0.5438761507235399,-0.02001224293997783,0.4399646183316859,0.2025123310537846,-0.4911523099995428,-0.6483521548494628,-0.141908086124233,0.3481555162595282,0.1175908287364988,0.2555972604928964,0.2956987028953442,0.1960550023047278,-0.08446767966535407,0.02255409272999653,0.2250857968533129,-0.3421292935492797,-0.2839113616242251,0.7543782326204296,0.8444065832128502,-0.6009055116464637,0.3718227171569575,-0.4811439135208515,0.03404980120903178,0.1083991358514129,0.193629137340922],\"y\":[-0.09235461706303438,-0.5573486901551301,1,0.2883724685128501,0.506182404455281,-0.7570048822927818,-0.7234900588707533,-0.7115469667836634,-0.2218683035419089,-0.09528793279236203,0.9275631612852748,-0.2369995956265742,0.5227716264138575,0.1419185509383984,0.2232101390933872,-0.9008815349707202,-0.7840979489648268,-0.9545478819091489,-0.1334418845237848,-1,-0.412287969210632,0.3446576963300643,0.0624890643469147,-0.8589242501836221,-0.8939707770237295,-0.9071781778415757,-0.475051803684212,-0.4574106734370732,-0.5619840478585982,-0.5001326375711357,0.23920732367819,0.01291375346314672,0.07289494772277982,0.8331231221749407,0.7828363690792317,-0.2136646618224882,0.1672161311863078,-0.07974202352084725,-0.5919217323721913,-0.5458433638663374,-0.5502301160135936]},\"edges\":{\"from\":[7,8,7,10,8,2,15,15,7,8,6,7,6,8,7,9,8,9,7,9,8,9,5,13,14,15,9,15,3,11,3,13,1,12,4,13,1,14,7,8,9,6,7,9,6,8,9,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41],\"to\":[16,17,18,19,20,21,22,23,24,24,25,25,26,26,27,27,28,28,29,29,30,30,31,31,32,32,33,33,34,34,35,35,36,36,37,37,38,38,39,39,39,40,40,40,41,41,41,8,7,6,9,6,9,14,9,6,8,7,8,7,6,6,9,9,14,13,11,9,9,9,6,8,7],\"arrows\":[\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\"]},\"nodesToDataframe\":true,\"edgesToDataframe\":true,\"options\":{\"width\":\"100%\",\"height\":\"100%\",\"nodes\":{\"shape\":\"dot\",\"physics\":false},\"manipulation\":{\"enabled\":false},\"edges\":{\"smooth\":false},\"physics\":{\"stabilization\":false},\"interaction\":{\"hover\":true,\"zoomSpeed\":1}},\"groups\":[\"1\",\"2\"],\"width\":null,\"height\":null,\"idselection\":{\"enabled\":true,\"style\":\"width: 150px; height: 26px\",\"useLabels\":true,\"main\":\"Select by id\"},\"byselection\":{\"enabled\":false,\"style\":\"width: 150px; height: 26px\",\"multiple\":false,\"hideColor\":\"rgba(200,200,200,0.5)\",\"highlight\":false},\"main\":null,\"submain\":null,\"footer\":null,\"background\":\"rgba(0, 0, 0, 0)\",\"igraphlayout\":{\"type\":\"square\"},\"tooltipStay\":300,\"tooltipStyle\":\"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);\",\"highlight\":{\"enabled\":true,\"hoverNearest\":true,\"degree\":1,\"algorithm\":\"all\",\"hideColor\":\"rgba(200,200,200,0.5)\",\"labelOnly\":true},\"collapse\":{\"enabled\":false,\"fit\":false,\"resetHighlight\":true,\"clusterOptions\":null,\"keepCoord\":true,\"labelSuffix\":\"(cluster)\"}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Retrieve the top 10 rules with highest confidence\ntop10_rules_movies = head(sort(regras_filmes,by=\"confidence\"),10)\n# Plot as an interactive graph the top 10 rules\nplot(top10_rules_movies,\n     method = \"graph\",engine = \"htmlwidget\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"visNetwork html-widget html-fill-item\" id=\"htmlwidget-6333907cbf579a6b7901\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-6333907cbf579a6b7901\">{\"x\":{\"nodes\":{\"id\":[1,2,3,4,5,6,7,8,9,10,11,12,13,14],\"label\":[\"Lord of the Rings: The Fellowship of the Ring, The\",\"Lord of the Rings: The Return of the King, The\",\"Lord of the Rings: The Two Towers, The\",\"Matrix, The\",\"rule 1\",\"rule 2\",\"rule 3\",\"rule 4\",\"rule 5\",\"rule 6\",\"rule 7\",\"rule 8\",\"rule 9\",\"rule 10\"],\"group\":[1,1,1,1,2,2,2,2,2,2,2,2,2,2],\"value\":[1,1,1,1,100,57.57142857142853,57.57142857142853,1,1,29.28571428571431,1,1,57.57142857142853,57.57142857142853],\"color\":[\"#CBD2FC\",\"#CBD2FC\",\"#CBD2FC\",\"#CBD2FC\",\"#EEC9C9\",\"#EEC9C9\",\"#EE1B1B\",\"#EE1B1B\",\"#EEC9C9\",\"#EEC9C9\",\"#EEC9C9\",\"#EE1B1B\",\"#EE4444\",\"#EEDCDC\"],\"title\":[\"Lord of the Rings: The Fellowship of the Ring, The\",\"Lord of the Rings: The Return of the King, The\",\"Lord of the Rings: The Two Towers, The\",\"Matrix, The\",\"<B>[1]<\\/B><BR><B>{Lord of the Rings: The Two Towers, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Fellowship of the Ring, The}<\\/B><BR><BR>support = 0.38<BR>confidence = 1<BR>coverage = 0.38<BR>lift = 2.22<BR>count = 38<BR>order = 2<BR>id = 1\",\"<B>[2]<\\/B><BR><B>{Lord of the Rings: The Return of the King, The,<BR>&nbsp;&nbsp;Lord of the Rings: The Two Towers, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Fellowship of the Ring, The}<\\/B><BR><BR>support = 0.35<BR>confidence = 1<BR>coverage = 0.35<BR>lift = 2.22<BR>count = 35<BR>order = 3<BR>id = 2\",\"<B>[3]<\\/B><BR><B>{Lord of the Rings: The Fellowship of the Ring, The,<BR>&nbsp;&nbsp;Lord of the Rings: The Return of the King, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Two Towers, The}<\\/B><BR><BR>support = 0.35<BR>confidence = 1<BR>coverage = 0.35<BR>lift = 2.63<BR>count = 35<BR>order = 3<BR>id = 3\",\"<B>[4]<\\/B><BR><B>{Lord of the Rings: The Return of the King, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Two Towers, The}<\\/B><BR><BR>support = 0.31<BR>confidence = 1<BR>coverage = 0.31<BR>lift = 2.63<BR>count = 31<BR>order = 3<BR>id = 4\",\"<B>[5]<\\/B><BR><B>{Lord of the Rings: The Return of the King, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Fellowship of the Ring, The}<\\/B><BR><BR>support = 0.31<BR>confidence = 1<BR>coverage = 0.31<BR>lift = 2.22<BR>count = 31<BR>order = 3<BR>id = 5\",\"<B>[6]<\\/B><BR><B>{Lord of the Rings: The Two Towers, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Fellowship of the Ring, The}<\\/B><BR><BR>support = 0.33<BR>confidence = 1<BR>coverage = 0.33<BR>lift = 2.22<BR>count = 33<BR>order = 3<BR>id = 6\",\"<B>[7]<\\/B><BR><B>{Lord of the Rings: The Return of the King, The,<BR>&nbsp;&nbsp;Lord of the Rings: The Two Towers, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Fellowship of the Ring, The}<\\/B><BR><BR>support = 0.31<BR>confidence = 1<BR>coverage = 0.31<BR>lift = 2.22<BR>count = 31<BR>order = 4<BR>id = 7\",\"<B>[8]<\\/B><BR><B>{Lord of the Rings: The Fellowship of the Ring, The,<BR>&nbsp;&nbsp;Lord of the Rings: The Return of the King, The,<BR>&nbsp;&nbsp;Matrix, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Two Towers, The}<\\/B><BR><BR>support = 0.31<BR>confidence = 1<BR>coverage = 0.31<BR>lift = 2.63<BR>count = 31<BR>order = 4<BR>id = 8\",\"<B>[9]<\\/B><BR><B>{Lord of the Rings: The Return of the King, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Two Towers, The}<\\/B><BR><BR>support = 0.35<BR>confidence = 0.972<BR>coverage = 0.36<BR>lift = 2.56<BR>count = 35<BR>order = 2<BR>id = 9\",\"<B>[10]<\\/B><BR><B>{Lord of the Rings: The Return of the King, The}<\\/B><BR>&nbsp;&nbsp; => <B>{Lord of the Rings: The Fellowship of the Ring, The}<\\/B><BR><BR>support = 0.35<BR>confidence = 0.972<BR>coverage = 0.36<BR>lift = 2.16<BR>count = 35<BR>order = 2<BR>id = 10\"],\"shape\":[\"box\",\"box\",\"box\",\"box\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\",\"circle\"],\"x\":[0.01232839472591185,0.204911042577862,-0.3630329912237117,0.7571398007344763,-1,-0.5039275560328084,-0.1462567728753593,0.2413891495765452,1,-0.1434591747553179,0.5677307806654328,0.2266633930248838,-0.921005521947326,0.5867429836156477],\"y\":[0.05997917733639846,0.3170708041032178,-0.1796165976412506,-0.8948051789019392,-0.4126126101243529,0.5890534041954332,0.8214925131865678,-0.8143084338427619,-0.04234987983230765,-1,-0.2119189942142619,-0.4268905881150329,0.4310660979172314,1]},\"edges\":{\"from\":[3,2,3,1,2,2,4,2,4,3,4,2,3,4,1,2,4,2,2,5,6,7,8,9,10,11,12,13,14],\"to\":[5,6,6,7,7,8,8,9,9,10,10,11,11,11,12,12,12,13,14,1,1,3,3,1,1,1,3,3,1],\"arrows\":[\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\",\"to\"]},\"nodesToDataframe\":true,\"edgesToDataframe\":true,\"options\":{\"width\":\"100%\",\"height\":\"100%\",\"nodes\":{\"shape\":\"dot\",\"physics\":false},\"manipulation\":{\"enabled\":false},\"edges\":{\"smooth\":false},\"physics\":{\"stabilization\":false},\"interaction\":{\"hover\":true,\"zoomSpeed\":1}},\"groups\":[\"1\",\"2\"],\"width\":null,\"height\":null,\"idselection\":{\"enabled\":true,\"style\":\"width: 150px; height: 26px\",\"useLabels\":true,\"main\":\"Select by id\"},\"byselection\":{\"enabled\":false,\"style\":\"width: 150px; height: 26px\",\"multiple\":false,\"hideColor\":\"rgba(200,200,200,0.5)\",\"highlight\":false},\"main\":null,\"submain\":null,\"footer\":null,\"background\":\"rgba(0, 0, 0, 0)\",\"igraphlayout\":{\"type\":\"square\"},\"tooltipStay\":300,\"tooltipStyle\":\"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);\",\"highlight\":{\"enabled\":true,\"hoverNearest\":true,\"degree\":1,\"algorithm\":\"all\",\"hideColor\":\"rgba(200,200,200,0.5)\",\"labelOnly\":true},\"collapse\":{\"enabled\":false,\"fit\":false,\"resetHighlight\":true,\"clusterOptions\":null,\"keepCoord\":true,\"labelSuffix\":\"(cluster)\"}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n### Extraindo regras com um determinando filme\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Extract rules with Pulp Fiction on the right side\npulpfiction_rules_rhs = apriori(filmes_trx, \n                           parameter = list(supp = 0.3,\n                                            conf = 0.5), \n                       appearance = list(default = \"lhs\",\n                                         rhs = \"Pulp Fiction\")) \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nApriori\n\nParameter specification:\n confidence minval smax arem  aval originalSupport maxtime support minlen\n        0.5    0.1    1 none FALSE            TRUE       5     0.3      1\n maxlen target  ext\n     10  rules TRUE\n\nAlgorithmic control:\n filter tree heap memopt load sort verbose\n    0.1 TRUE TRUE  FALSE TRUE    2    TRUE\n\nAbsolute minimum support count: 30 \n\nset item appearances ...[1 item(s)] done [0.00s].\nset transactions ...[4508 item(s), 100 transaction(s)] done [0.00s].\nsorting and recoding items ... [56 item(s)] done [0.00s].\ncreating transaction tree ... done [0.00s].\nchecking subsets of size 1 2 3 4 done [0.00s].\nwriting ... [19 rule(s)] done [0.00s].\ncreating S4 object  ... done [0.00s].\n```\n\n\n:::\n\n```{.r .cell-code}\n# Inspect the first rules\ninspect(head(pulpfiction_rules_rhs,5))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    lhs                                                     rhs            support confidence coverage     lift count\n[1] {Schindler's List}                                   => {Pulp Fiction}    0.30  0.6818182     0.44 1.450677    30\n[2] {Jurassic Park}                                      => {Pulp Fiction}    0.31  0.7209302     0.43 1.533894    31\n[3] {Seven (a.k.a. Se7en)}                               => {Pulp Fiction}    0.30  0.8108108     0.37 1.725129    30\n[4] {Lord of the Rings: The Fellowship of the Ring, The} => {Pulp Fiction}    0.31  0.6888889     0.45 1.465721    31\n[5] {Sixth Sense, The}                                   => {Pulp Fiction}    0.31  0.7045455     0.44 1.499033    31\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Find rules with highest lift\ninspect(head(sort(pulpfiction_rules_rhs, by=\"lift\"), 10))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     lhs                             rhs            support confidence coverage     lift count\n[1]  {Fight Club,                                                                             \n      Silence of the Lambs, The}  => {Pulp Fiction}    0.34  0.9189189     0.37 1.955147    34\n[2]  {American Beauty,                                                                        \n      Silence of the Lambs, The}  => {Pulp Fiction}    0.31  0.8857143     0.35 1.884498    31\n[3]  {Shawshank Redemption, The,                                                              \n      Silence of the Lambs, The}  => {Pulp Fiction}    0.31  0.8857143     0.35 1.884498    31\n[4]  {Fight Club,                                                                             \n      Matrix, The}                => {Pulp Fiction}    0.30  0.8333333     0.36 1.773050    30\n[5]  {Seven (a.k.a. Se7en)}       => {Pulp Fiction}    0.30  0.8108108     0.37 1.725129    30\n[6]  {American Beauty,                                                                        \n      Matrix, The}                => {Pulp Fiction}    0.30  0.8108108     0.37 1.725129    30\n[7]  {Matrix, The,                                                                            \n      Silence of the Lambs, The}  => {Pulp Fiction}    0.32  0.8000000     0.40 1.702128    32\n[8]  {American Beauty,                                                                        \n      Fight Club}                 => {Pulp Fiction}    0.30  0.7894737     0.38 1.679731    30\n[9]  {Forrest Gump}               => {Pulp Fiction}    0.33  0.7857143     0.42 1.671733    33\n[10] {Silence of the Lambs, The}  => {Pulp Fiction}    0.38  0.7600000     0.50 1.617021    38\n```\n\n\n:::\n:::\n\n\n## Extraindo regras com um filme na esquerda\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Extract rules with Pulp Fiction on the left side\npulpfiction_rules_lhs = apriori(filmes_trx, \n                           parameter = list(supp = 0.3,\n                                            conf = 0.5, \n                                            minlen = 2), \n                           appearance = list(\n                             default = \"rhs\",\n                             lhs = \"Pulp Fiction\")) \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nApriori\n\nParameter specification:\n confidence minval smax arem  aval originalSupport maxtime support minlen\n        0.5    0.1    1 none FALSE            TRUE       5     0.3      2\n maxlen target  ext\n     10  rules TRUE\n\nAlgorithmic control:\n filter tree heap memopt load sort verbose\n    0.1 TRUE TRUE  FALSE TRUE    2    TRUE\n\nAbsolute minimum support count: 30 \n\nset item appearances ...[1 item(s)] done [0.00s].\nset transactions ...[4508 item(s), 100 transaction(s)] done [0.00s].\nsorting and recoding items ... [56 item(s)] done [0.00s].\ncreating transaction tree ... done [0.00s].\nchecking subsets of size 1 2 done [0.00s].\nwriting ... [12 rule(s)] done [0.00s].\ncreating S4 object  ... done [0.00s].\n```\n\n\n:::\n\n```{.r .cell-code}\n# Inspect the first rules\ninspect(head(pulpfiction_rules_lhs))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    lhs               rhs                                                  support confidence coverage     lift count\n[1] {Pulp Fiction} => {Schindler's List}                                      0.30  0.6382979     0.47 1.450677    30\n[2] {Pulp Fiction} => {Jurassic Park}                                         0.31  0.6595745     0.47 1.533894    31\n[3] {Pulp Fiction} => {Seven (a.k.a. Se7en)}                                  0.30  0.6382979     0.47 1.725129    30\n[4] {Pulp Fiction} => {Lord of the Rings: The Fellowship of the Ring, The}    0.31  0.6595745     0.47 1.465721    31\n[5] {Pulp Fiction} => {Sixth Sense, The}                                      0.31  0.6595745     0.47 1.499033    31\n[6] {Pulp Fiction} => {Forrest Gump}                                          0.33  0.7021277     0.47 1.671733    33\n```\n\n\n:::\n:::\n",
    "supporting": [
      "Aula14_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<script src=\"../site_libs/plotly-binding-4.10.4/plotly.js\"></script>\n<script src=\"../site_libs/typedarray-0.1/typedarray.min.js\"></script>\n<script src=\"../site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<link href=\"../site_libs/crosstalk-1.2.1/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/crosstalk-1.2.1/js/crosstalk.min.js\"></script>\n<link href=\"../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/plotly-main-2.11.1/plotly-latest.min.js\"></script>\n<link href=\"../site_libs/vis-9.1.0/vis-network.min.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/vis-9.1.0/vis-network.min.js\"></script>\n<script src=\"../site_libs/visNetwork-binding-2.1.2/visNetwork.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}