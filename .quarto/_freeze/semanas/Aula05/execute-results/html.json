{
  "hash": "0b563e8aecda89540534f2e7040ae1cb",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Suavização\"\nauthor: \"Ricardo Accioly\"\ndate: \"2024-08-20\"\nformat:\n html:\n    code-link: true\n    fig-width: 9\n    fig-height: 7\n    fig-dpi: 300\nknitr:\n  opts_chunk: \n    out.width: 90%\n    comment: \"#>\"\nexecute:\n  freeze: auto\n---\n\n\n\n\n## Bibliotecas\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(\"ggplot2\")\nlibrary(\"gapminder\")\nlibrary(\"dplyr\")\n```\n:::\n\n\n\n\n## Suavização\n\n(locally estimated scatterplot smoothing/Local Polynomial Regression Fitting)\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngap_07 <- filter(gapminder, year == 2007)\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  geom_smooth()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n#> `geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](Aula05_files/figure-html/suavização-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Fazendo o suavizador mais nervoso\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  geom_smooth(span = 0.2)\n```\n\n::: {.cell-output-display}\n![](Aula05_files/figure-html/nervoso-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Fazendo o suavizador menos nervoso\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  geom_smooth(span = 0.9)\n```\n\n::: {.cell-output-display}\n![](Aula05_files/figure-html/mais-suave-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Removendo intervalos de confiança\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  geom_smooth(se = FALSE)\n```\n\n::: {.cell-output-display}\n![](Aula05_files/figure-html/sem-IC-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Usando IC de 90%\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  geom_smooth(level = 0.90)\n```\n\n::: {.cell-output-display}\n![](Aula05_files/figure-html/IC90-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Usando um modelo linear ao invés do loess\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  geom_smooth(method = \"lm\")\n```\n\n::: {.cell-output-display}\n![](Aula05_files/figure-html/linear-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Usando basic splines para melhorar o ajuste\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  geom_smooth(method = \"lm\", formula = y ~ splines::bs(x, df = 3))\n```\n\n::: {.cell-output-display}\n![](Aula05_files/figure-html/splines-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Usando o gam (general addtive models) com regressão spline\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  geom_smooth(method = \"gam\", formula = y ~ s(x))\n```\n\n::: {.cell-output-display}\n![](Aula05_files/figure-html/gam-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Começando a construir um gráfico do tipo facet com suavizações\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](Aula05_files/figure-html/primeiro-graf-dispersão-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Dividindo por continente\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  facet_wrap(~ continent)\n```\n\n::: {.cell-output-display}\n![](Aula05_files/figure-html/facet-continente-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Adicionando suavizadores\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  facet_wrap(~ continent) +\n  geom_smooth()\n```\n\n::: {.cell-output-display}\n![](Aula05_files/figure-html/facet-suavizadores-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Colorindo por continente\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp, color = continent)) +\n  geom_point() +\n  facet_wrap(~ continent) +\n  geom_smooth()\n```\n\n::: {.cell-output-display}\n![](Aula05_files/figure-html/facet-suav-cores-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Colorindo somente a curva\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  facet_wrap(~ continent) +\n  geom_smooth(aes(color = continent))\n```\n\n::: {.cell-output-display}\n![](Aula05_files/figure-html/facet-suav-cores2-1.png){width=90%}\n:::\n:::\n",
    "supporting": [
      "Aula05_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}