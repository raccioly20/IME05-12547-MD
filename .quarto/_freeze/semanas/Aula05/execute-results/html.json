{
  "hash": "6eb9669f329734138a130c37c3e59d2a",
  "result": {
    "markdown": "---\ntitle: \"Suavização\"\nauthor: \"Ricardo Accioly\"\ndate: \"2023-05-25\"\nformat:\n html:\n    code-link: true\n---\n\n\n\n\n## Bibliotecas\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(\"ggplot2\")\nlibrary(\"gapminder\")\nlibrary(\"dplyr\")\n```\n:::\n\n\n\\newpage\n\n## Suavização\n\n(locally estimated scatterplot smoothing/Local Polynomial Regression Fitting)\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngap_07 <- filter(gapminder, year == 2007)\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  geom_smooth()\n```\n\n::: {.cell-output-display}\n![](imagens/Aula05/suavização-1.png){width=672}\n:::\n:::\n\n\n\\newpage\n\n## Fazendo o suavizador mais nervoso\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  geom_smooth(span = 0.2)\n```\n\n::: {.cell-output-display}\n![](imagens/Aula05/nervoso-1.png){width=672}\n:::\n:::\n\n\n\\newpage\n\n## Fazendo o suavizador menos nervoso\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  geom_smooth(span = 0.9)\n```\n\n::: {.cell-output-display}\n![](imagens/Aula05/mais-suave-1.png){width=672}\n:::\n:::\n\n\n\\newpage\n\n## Removendo intervalos de confiança\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  geom_smooth(se = FALSE)\n```\n\n::: {.cell-output-display}\n![](imagens/Aula05/sem-IC-1.png){width=672}\n:::\n:::\n\n\n\\newpage\n\n## Usando IC de 90%\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  geom_smooth(level = 0.90)\n```\n\n::: {.cell-output-display}\n![](imagens/Aula05/IC90-1.png){width=672}\n:::\n:::\n\n\n\\newpage\n\n## Usando um modelo linear ao invés do loess\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  geom_smooth(method = \"lm\")\n```\n\n::: {.cell-output-display}\n![](imagens/Aula05/linear-1.png){width=672}\n:::\n:::\n\n\n\\newpage\n\n## Usando basic splines para melhorar o ajuste\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  geom_smooth(method = \"lm\", formula = y ~ splines::bs(x, df = 3))\n```\n\n::: {.cell-output-display}\n![](imagens/Aula05/splines-1.png){width=672}\n:::\n:::\n\n\n\\newpage\n\n## Usando o gam (general addtive models) com regressão spline\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  geom_smooth(method = \"gam\", formula = y ~ s(x))\n```\n\n::: {.cell-output-display}\n![](imagens/Aula05/gam-1.png){width=672}\n:::\n:::\n\n\n\\newpage\n\n## Começando a construir um gráfico do tipo facet com suavizações\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](imagens/Aula05/primeiro-graf-dispersão-1.png){width=672}\n:::\n:::\n\n\n\\newpage\n\n## Dividindo por continente\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  facet_wrap(~ continent)\n```\n\n::: {.cell-output-display}\n![](imagens/Aula05/facet-continente-1.png){width=672}\n:::\n:::\n\n\n\\newpage\n\n## Adicionando suavizadores\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  facet_wrap(~ continent) +\n  geom_smooth()\n```\n\n::: {.cell-output-display}\n![](imagens/Aula05/facet-suavizadores-1.png){width=672}\n:::\n:::\n\n\n\\newpage\n\n## Colorindo por continente\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp, color = continent)) +\n  geom_point() +\n  facet_wrap(~ continent) +\n  geom_smooth()\n```\n\n::: {.cell-output-display}\n![](imagens/Aula05/facet-suav-cores-1.png){width=864}\n:::\n:::\n\n\n\\newpage\n\n## Colorindo somente a curva\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  facet_wrap(~ continent) +\n  geom_smooth(aes(color = continent))\n```\n\n::: {.cell-output-display}\n![](imagens/Aula05/facet-suav-cores2-1.png){width=864}\n:::\n:::\n",
    "supporting": [
      "Aula05_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}