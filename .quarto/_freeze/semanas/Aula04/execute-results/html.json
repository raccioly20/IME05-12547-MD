{
  "hash": "bea25013aa6872613303a4eae87f61b3",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Melhorando a visualização\"\nauthor: \"Ricardo Accioly\"\ndate: \"2024-08-20\"\nformat:\n html:\n    code-link: true\n    fig-width: 9\n    fig-height: 7\n    fig-dpi: 300\nknitr:\n  opts_chunk: \n    out.width: 90%\n    comment: \"#>\"\nexecute:\n  freeze: auto\n---\n\n\n\n\n## Carregando as bibliotecas\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(\"ggplot2\")\nlibrary(\"dplyr\")\nlibrary(\"gapminder\")\n```\n:::\n\n\n\n\n## Cores por continente\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngap_07 <- filter(gapminder, year == 2007)\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp,\n                   color = continent)) +\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](Aula04_files/figure-html/cores-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Usando formas e cores diferentes\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp,\n                   shape = continent, color = continent)) +\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](Aula04_files/figure-html/forma-cores-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Cores e tamanho\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp,\n                   size = pop, color = continent)) +\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](Aula04_files/figure-html/cores-tamanho-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Sumario dos dados para obter pop média por continente\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngap_pop <- gapminder %>% \n  group_by(continent, year) %>% \n  summarize(pop = mean(pop))\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n#> `summarise()` has grouped output by 'continent'. You can override using the\n#> `.groups` argument.\n```\n\n\n:::\n\n```{.r .cell-code}\nhead(gap_pop)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 6 × 3\n#> # Groups:   continent [1]\n#>   continent  year      pop\n#>   <fct>     <int>    <dbl>\n#> 1 Africa     1952 4570010.\n#> 2 Africa     1957 5093033.\n#> 3 Africa     1962 5702247.\n#> 4 Africa     1967 6447875.\n#> 5 Africa     1972 7305376.\n#> 6 Africa     1977 8328097.\n```\n\n\n:::\n:::\n\n\n\n\n## Grafico de linha com cores\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_pop, aes(x = year, y = pop, color = continent)) +\n  geom_line() + geom_point()\n```\n\n::: {.cell-output-display}\n![](Aula04_files/figure-html/cores-linhas-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Criando grids entre os anos de 2002 e 2007\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngap_0207 <- gapminder %>% filter(between(year, 2002, 2007))\nggplot(gap_0207, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  facet_grid(continent ~ year)\n```\n\n::: {.cell-output-display}\n![](Aula04_files/figure-html/grids-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Outro tipo de apresentações de grid\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngap_life <- gapminder %>% \n  group_by(continent, year) %>% \n  summarize(lifeExp = mean(lifeExp))\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n#> `summarise()` has grouped output by 'continent'. You can override using the\n#> `.groups` argument.\n```\n\n\n:::\n\n```{.r .cell-code}\nggplot(gap_life, aes(x = year, y = lifeExp)) +\n  geom_line() +\n  facet_grid(continent ~ .)\n```\n\n::: {.cell-output-display}\n![](Aula04_files/figure-html/multiplas-linhas-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Grid em outra direção\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_life, aes(x = year, y = lifeExp)) +\n  geom_line() +\n  facet_grid(. ~ continent)\n```\n\n::: {.cell-output-display}\n![](Aula04_files/figure-html/multiplas-colunas-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Usando o wrap\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_life, aes(x = year, y = lifeExp)) +\n  geom_line() +\n  facet_wrap( ~ continent)\n```\n\n::: {.cell-output-display}\n![](Aula04_files/figure-html/wrapped-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Filtrando dados e fazendo grafico de dispersão padrão\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngap_07 <- filter(gapminder, year == 2007)\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](Aula04_files/figure-html/graf-dispersao-pad-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Transformando o eixo x para escala logarítimica\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  scale_x_continuous(trans = \"log10\")\n```\n\n::: {.cell-output-display}\n![](Aula04_files/figure-html/escala-log-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Outra forma de transformação do eixo x\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  scale_x_log10()\n```\n\n::: {.cell-output-display}\n![](Aula04_files/figure-html/outra-escala-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Definindo limites para o eixo y\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  scale_x_log10() +\n  scale_y_continuous(limits = c(0, 95))\n```\n\n::: {.cell-output-display}\n![](Aula04_files/figure-html/limites-eixoy-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Grafico com cores normais\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp, color = continent)) +\n  geom_point() +\n  scale_x_log10()\n```\n\n::: {.cell-output-display}\n![](Aula04_files/figure-html/cores-normais-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Grafico usando outra paleta de cores\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp, color = continent)) +\n  geom_point() +\n  scale_x_log10() +\n  scale_color_brewer(palette = \"Dark2\")\n```\n\n::: {.cell-output-display}\n![](Aula04_files/figure-html/cores-outras-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Usando codigos manuais para as cores\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp, color = continent)) +\n  geom_point() +\n  scale_x_log10() +\n  scale_color_manual(values = c(\"#FF0000\", \"#00A08A\", \"#F2AD00\",\n                                \"#F98400\", \"#5BBCD6\"))\n```\n\n::: {.cell-output-display}\n![](Aula04_files/figure-html/codigos-cores-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Definindo as cores e tamanho dos pontos\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point(color = \"darkblue\", size = 3) +\n  scale_x_log10()\n```\n\n::: {.cell-output-display}\n![](Aula04_files/figure-html/cores_tamanho-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Customizando títulos, rótulos de eixo e legendas\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp, color = continent)) +\n  geom_point(size = 2) +\n  scale_x_log10() +\n  theme_light() +\n  theme(legend.position = \"bottom\")\n```\n\n::: {.cell-output-display}\n![](Aula04_files/figure-html/legenda_baixo-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Sem legenda\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp, color = continent)) +\n  geom_point(size = 2) +\n  scale_x_log10() +\n  theme_light() +\n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](Aula04_files/figure-html/sem_legenda-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Legenda dentro do gráfico\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp, color = continent)) +\n  geom_point(size = 2) +\n  scale_x_log10() +\n  theme_light() +\n  theme(legend.position = c(0.1, 0.85))\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n#> Warning: A numeric `legend.position` argument in `theme()` was deprecated in ggplot2\n#> 3.5.0.\n#> ℹ Please use the `legend.position.inside` argument of `theme()` instead.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](Aula04_files/figure-html/legenda_dentro-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Salvando o gráfico\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngraf1 <- ggplot(gap_07, aes(x = gdpPercap, y = lifeExp, color = continent)) +\n  geom_point(size = 2) +\n  scale_x_log10() +\n  theme_light() +\n  theme(legend.position = c(0.1, 0.85))\n\ngraf1\n```\n\n::: {.cell-output-display}\n![](Aula04_files/figure-html/salvando_grafico-1.png){width=90%}\n:::\n:::\n\n\n\n\n## Aumentando o tamanho do texto e mudando para portugues\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngraf2 <- ggplot(gap_07, aes(x = gdpPercap, y = lifeExp, color = continent)) +\n  geom_point(size = 2) +\n  scale_x_log10() +\n  theme_light() +\n  theme(legend.position = c(0.1, 0.80),\n        legend.key = element_blank(),\n        axis.text = element_text(size = 12),\n        axis.title = element_text(size = 14)) +\n  labs(x = \"PIB Per capita (US$)\", \n       y = \"Expectativa de Vida (anos)\", \n       title = \"Expectativa de Vida vs PIB em 2007\",\n       color = \"Continente\")\n\ngraf2\n```\n\n::: {.cell-output-display}\n![](Aula04_files/figure-html/mudando_texto-1.png){width=90%}\n:::\n:::\n",
    "supporting": [
      "Aula04_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}